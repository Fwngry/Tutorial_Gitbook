
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>YOLOv5 的详细使用教程，以及使用 yolov5 训练自己的数据集 · Summary</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Yolov5_DeepSort_Pytorch 训练自己的数据.html" />
    
    
    <link rel="prev" href="yolov5 启用数据增强与 tensorboard 可视化.html" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    0 - 快速使用
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../0 - 快速使用/3 分钟快速配置 Git.html">
            
                <a href="../../0 - 快速使用/3 分钟快速配置 Git.html">
            
                    
                    3 分钟快速配置 Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../0 - 快速使用/Conda 常用命令整理.html">
            
                <a href="../../0 - 快速使用/Conda 常用命令整理.html">
            
                    
                    Conda 常用命令整理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../0 - 快速使用/Linux&Shell常用命令整理.html">
            
                <a href="../../0 - 快速使用/Linux&Shell常用命令整理.html">
            
                    
                    Linux&Shell常用命令整理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../0 - 快速使用/MacOS常用命令整理.html">
            
                <a href="../../0 - 快速使用/MacOS常用命令整理.html">
            
                    
                    MacOS常用命令整理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../0 - 快速使用/Pycharm.html">
            
                <a href="../../0 - 快速使用/Pycharm.html">
            
                    
                    Pycharm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../0 - 快速使用/VSCODE常用快捷键整理.html">
            
                <a href="../../0 - 快速使用/VSCODE常用快捷键整理.html">
            
                    
                    VSCODE常用快捷键整理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../0 - 快速使用/XCODE常用快捷键整理.html">
            
                <a href="../../0 - 快速使用/XCODE常用快捷键整理.html">
            
                    
                    XCODE常用快捷键整理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    1 Git Github
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../1 - Git_Github/1. Github添加公钥.html">
            
                <a href="../../1 - Git_Github/1. Github添加公钥.html">
            
                    
                    1. Github添加公钥
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../1 - Git_Github/2. 关于git clone.html">
            
                <a href="../../1 - Git_Github/2. 关于git clone.html">
            
                    
                    2. 关于git clone
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../1 - Git_Github/3. 关于.gitconfig.html">
            
                <a href="../../1 - Git_Github/3. 关于.gitconfig.html">
            
                    
                    3. 关于.gitconfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../1 - Git_Github/4. 关于.gitignore.html">
            
                <a href="../../1 - Git_Github/4. 关于.gitignore.html">
            
                    
                    4. 关于.gitignore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../../1 - Git_Github/5. 下载github特定子文件夹.html">
            
                <a href="../../1 - Git_Github/5. 下载github特定子文件夹.html">
            
                    
                    5. 下载github特定子文件夹
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../../1 - Git_Github/6. git branch.html">
            
                <a href="../../1 - Git_Github/6. git branch.html">
            
                    
                    6. git branch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../../1 - Git_Github/7. git fetch & pull 详解.html">
            
                <a href="../../1 - Git_Github/7. git fetch & pull 详解.html">
            
                    
                    7. git fetch & pull 详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../../1 - Git_Github/8. Gitbook与GitPages.html">
            
                <a href="../../1 - Git_Github/8. Gitbook与GitPages.html">
            
                    
                    8. Gitbook与GitPages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../../1 - Git_Github/报错 - Failed to connect to localhost port 1080: Connection refused.html">
            
                <a href="../../1 - Git_Github/报错 - Failed to connect to localhost port 1080: Connection refused.html">
            
                    
                    报错 - Failed to connect to localhost port 1080: Connection refused
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    2 - 操作系统_服务器与网络
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../2 - 操作系统_服务器与网络/1. Download Ubuntu 镜像文件.html">
            
                <a href="../../2 - 操作系统_服务器与网络/1. Download Ubuntu 镜像文件.html">
            
                    
                    1. Download Ubuntu 镜像文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../2 - 操作系统_服务器与网络/1. Ubuntu下的翻墙攻略.html">
            
                <a href="../../2 - 操作系统_服务器与网络/1. Ubuntu下的翻墙攻略.html">
            
                    
                    1. Ubuntu下的翻墙攻略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../2 - 操作系统_服务器与网络/1. 免疫挂断：nohup 和 & .html">
            
                <a href="../../2 - 操作系统_服务器与网络/1. 免疫挂断：nohup 和 & .html">
            
                    
                    1. 免疫挂断：nohup 和 & 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../2 - 操作系统_服务器与网络/3. NATAPP 将内网映射到外网.html">
            
                <a href="../../2 - 操作系统_服务器与网络/3. NATAPP 将内网映射到外网.html">
            
                    
                    3. NATAPP 将内网映射到外网
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../../2 - 操作系统_服务器与网络/3. 实验室主机联网奇怪经历.html">
            
                <a href="../../2 - 操作系统_服务器与网络/3. 实验室主机联网奇怪经历.html">
            
                    
                    3. 实验室主机联网奇怪经历
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../../2 - 操作系统_服务器与网络/3. 服务器与MacOS之间的SFTP.html">
            
                <a href="../../2 - 操作系统_服务器与网络/3. 服务器与MacOS之间的SFTP.html">
            
                    
                    3. 服务器与MacOS之间的SFTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../../2 - 操作系统_服务器与网络/3. 远程连接服务器 - Natapp内网穿透服务器.html">
            
                <a href="../../2 - 操作系统_服务器与网络/3. 远程连接服务器 - Natapp内网穿透服务器.html">
            
                    
                    3. 远程连接服务器 - Natapp内网穿透服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../../2 - 操作系统_服务器与网络/4. CMake3分钟上手.html">
            
                <a href="../../2 - 操作系统_服务器与网络/4. CMake3分钟上手.html">
            
                    
                    4. CMake3分钟上手
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../../2 - 操作系统_服务器与网络/4. Mac 下安装 OpenCV.html">
            
                <a href="../../2 - 操作系统_服务器与网络/4. Mac 下安装 OpenCV.html">
            
                    
                    4. Mac 下安装 OpenCV
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../../2 - 操作系统_服务器与网络/软硬链接 与 Linux 文件系统.html">
            
                <a href="../../2 - 操作系统_服务器与网络/软硬链接 与 Linux 文件系统.html">
            
                    
                    软硬链接 与 Linux 文件系统
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    3 - 环境搭建_开发效率
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../3 - 环境搭建_开发效率/2. Conda_ENV中正确使用pip Install.html">
            
                <a href="../../3 - 环境搭建_开发效率/2. Conda_ENV中正确使用pip Install.html">
            
                    
                    2. Conda_ENV中正确使用pip Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../3 - 环境搭建_开发效率/2. Conda添加镜像 - 解决下载过慢.html">
            
                <a href="../../3 - 环境搭建_开发效率/2. Conda添加镜像 - 解决下载过慢.html">
            
                    
                    2. Conda添加镜像 - 解决下载过慢
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../3 - 环境搭建_开发效率/2. Linux 系统下 conda 的安装与使用.html">
            
                <a href="../../3 - 环境搭建_开发效率/2. Linux 系统下 conda 的安装与使用.html">
            
                    
                    2. Linux 系统下 conda 的安装与使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../3 - 环境搭建_开发效率/2. Mac 必备神器 Homebrew.html">
            
                <a href="../../3 - 环境搭建_开发效率/2. Mac 必备神器 Homebrew.html">
            
                    
                    2. Mac 必备神器 Homebrew
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../../3 - 环境搭建_开发效率/3. VSCODE - 解决 vscode 中使用 pytorch 时 pylint 报错 Module torch has no xxx member.html">
            
                <a href="../../3 - 环境搭建_开发效率/3. VSCODE - 解决 vscode 中使用 pytorch 时 pylint 报错 Module torch has no xxx member.html">
            
                    
                    3. VSCODE - 解决 vscode 中使用 pytorch 时 pylint 报错 Module torch has no xxx member
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../../3 - 环境搭建_开发效率/介绍-Jupyter网络笔记本.html">
            
                <a href="../../3 - 环境搭建_开发效率/介绍-Jupyter网络笔记本.html">
            
                    
                    介绍-Jupyter网络笔记本
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    4 Python API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../4 - Python_API/Language - Python.html">
            
                <a href="../../4 - Python_API/Language - Python.html">
            
                    
                    Language Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../4 - Python_API/Lib - TensorFlow_API.html">
            
                <a href="../../4 - Python_API/Lib - TensorFlow_API.html">
            
                    
                    Lib Tensor Flow API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../4 - Python_API/Python 中 with 用法及原理.html">
            
                <a href="../../4 - Python_API/Python 中 with 用法及原理.html">
            
                    
                    Python 中 with 用法及原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../../4 - Python_API/python 中，花括号，中括号，小括号的区别.html">
            
                <a href="../../4 - Python_API/python 中，花括号，中括号，小括号的区别.html">
            
                    
                    python 中，花括号，中括号，小括号的区别
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../../4 - Python_API/Python 判断列表中是否存在某元素.html">
            
                <a href="../../4 - Python_API/Python 判断列表中是否存在某元素.html">
            
                    
                    Python 判断列表中是否存在某元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../../4 - Python_API/python 获取当前工作目录.html">
            
                <a href="../../4 - Python_API/python 获取当前工作目录.html">
            
                    
                    python 获取当前工作目录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../../4 - Python_API/python 读写 csv 文件（创建，追加，覆盖）.html">
            
                <a href="../../4 - Python_API/python 读写 csv 文件（创建，追加，覆盖）.html">
            
                    
                    python 读写 csv 文件（创建，追加，覆盖）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../../4 - Python_API/python 路径拼接 os.path.join(">
            
                <span>
            
                    
                    python 路径拼接 os.path.join() 函数的用法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="../../4 - Python_API/python 逐行读取文件内容的三种方法.html">
            
                <a href="../../4 - Python_API/python 逐行读取文件内容的三种方法.html">
            
                    
                    python 逐行读取文件内容的三种方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="../../4 - Python_API/Python3 rfind(">
            
                <span>
            
                    
                    Python3 rfind() 方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="../../4 - Python_API/python读写 JSON 数据.html">
            
                <a href="../../4 - Python_API/python读写 JSON 数据.html">
            
                    
                    python读写 JSON 数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="../../4 - Python_API/使用 opencv 进行简单的抠图.html">
            
                <a href="../../4 - Python_API/使用 opencv 进行简单的抠图.html">
            
                    
                    使用 opencv 进行简单的抠图
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    5 - 实验笔记
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" >
            
                <span>
            
                    
                    Pytoch自定义类改写数据
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1.1" data-path="../Pytoch自定义类改写数据/Datasets & Dataloaders — PyTorch Tutorials 1.8.1+cu102 documentation.html">
            
                <a href="../Pytoch自定义类改写数据/Datasets & Dataloaders — PyTorch Tutorials 1.8.1+cu102 documentation.html">
            
                    
                    Datasets & Dataloaders — PyTorch Tutorials 1.8.1+cu102 documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.1.2" data-path="../Pytoch自定义类改写数据/PyTorch 手把手自定义 Dataloader 读取数据.html">
            
                <a href="../Pytoch自定义类改写数据/PyTorch 手把手自定义 Dataloader 读取数据.html">
            
                    
                    PyTorch 手把手自定义 Dataloader 读取数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.1.3" data-path="../Pytoch自定义类改写数据/Pytorch 源码解读 - torchvision.datasets.folder.html">
            
                <a href="../Pytoch自定义类改写数据/Pytorch 源码解读 - torchvision.datasets.folder.html">
            
                    
                    Pytorch 源码解读 - torchvision.datasets.folder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.1.4" data-path="../Pytoch自定义类改写数据/torchvision自定义数据读取.html">
            
                <a href="../Pytoch自定义类改写数据/torchvision自定义数据读取.html">
            
                    
                    torchvision自定义数据读取
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.1.5" data-path="../Pytoch自定义类改写数据/自定义数据读取方式 orch.utils.data.Dataset 与 Dataloader.html">
            
                <a href="../Pytoch自定义类改写数据/自定义数据读取方式 orch.utils.data.Dataset 与 Dataloader.html">
            
                    
                    自定义数据读取方式 orch.utils.data.Dataset 与 Dataloader
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.2" >
            
                <span>
            
                    
                    Yolo Deepsort
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.2.1" data-path="【好文😭】手把手教你用 YOLOv5 训练自己的数据集.html">
            
                <a href="【好文😭】手把手教你用 YOLOv5 训练自己的数据集.html">
            
                    
                    【好文😭】手把手教你用 YOLOv5 训练自己的数据集
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.2" data-path="【目标检测实战】Darknet—yolov3 模型训练（VOC 数据集">
            
                <span>
            
                    
                    【目标检测实战】Darknet—yolov3 模型训练（VOC 数据集)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.3" data-path="DeepSort - 基于 YOLOv5 和 DeepSort 的目标跟踪.html">
            
                <a href="DeepSort - 基于 YOLOv5 和 DeepSort 的目标跟踪.html">
            
                    
                    DeepSort - 基于 YOLOv5 和 DeepSort 的目标跟踪
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.4" data-path="Market 1501 数据集及在 DeepSort 中的训练.html">
            
                <a href="Market 1501 数据集及在 DeepSort 中的训练.html">
            
                    
                    Market 1501 数据集及在 DeepSort 中的训练
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.5" data-path="yolov5 启用数据增强与 tensorboard 可视化.html">
            
                <a href="yolov5 启用数据增强与 tensorboard 可视化.html">
            
                    
                    yolov5 启用数据增强与 tensorboard 可视化
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7.2.6" data-path="YOLOv5 的详细使用教程，以及使用 yolov5 训练自己的数据集.html">
            
                <a href="YOLOv5 的详细使用教程，以及使用 yolov5 训练自己的数据集.html">
            
                    
                    YOLOv5 的详细使用教程，以及使用 yolov5 训练自己的数据集
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.7" data-path="Yolov5_DeepSort_Pytorch 训练自己的数据.html">
            
                <a href="Yolov5_DeepSort_Pytorch 训练自己的数据.html">
            
                    
                    Yolov5_DeepSort_Pytorch 训练自己的数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.3" >
            
                <span>
            
                    
                    YOLO实验
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.3.1" data-path="../YOLO实验/Installing Darknet.html">
            
                <a href="../YOLO实验/Installing Darknet.html">
            
                    
                    Installing Darknet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.2" data-path="../YOLO实验/YOLO: Real-Time Object Detection.html">
            
                <a href="../YOLO实验/YOLO: Real-Time Object Detection.html">
            
                    
                    YOLO Real Time Object Detection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.3" data-path="../YOLO实验/在 Linux 服务器环境下使用 yolov3 训练 voc 数据集.html">
            
                <a href="../YOLO实验/在 Linux 服务器环境下使用 yolov3 训练 voc 数据集.html">
            
                    
                    在 Linux 服务器环境下使用 yolov3 训练 voc 数据集
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.4" data-path="../YOLO实验/快速开始ScaledYOLOv4-知乎.html">
            
                <a href="../YOLO实验/快速开始ScaledYOLOv4-知乎.html">
            
                    
                    快速开始ScaledYOLOv4-知乎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.5" data-path="../YOLO实验/笔记 - 在服务器上用 YOLOv4 训练和测试数据集.html">
            
                <a href="../YOLO实验/笔记 - 在服务器上用 YOLOv4 训练和测试数据集.html">
            
                    
                    笔记 - 在服务器上用 YOLOv4 训练和测试数据集
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../🌟Pytorch 搭建 YoloV4 目标检测平台.html">
            
                <a href="../🌟Pytorch 搭建 YoloV4 目标检测平台.html">
            
                    
                    🌟Pytorch 搭建 YoloV4 目标检测平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../yolo--- 参数解释之 cfg 文件参数.html">
            
                <a href="../yolo--- 参数解释之 cfg 文件参数.html">
            
                    
                    yolo--- 参数解释之 cfg 文件参数
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    6 - 数字生活
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../6 - 数字生活/1. 深度学习图像标注工具 - Labelme.html">
            
                <a href="../../6 - 数字生活/1. 深度学习图像标注工具 - Labelme.html">
            
                    
                    1. 深度学习图像标注工具 - Labelme
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../6 - 数字生活/Kindle使用手册.html">
            
                <a href="../../6 - 数字生活/Kindle使用手册.html">
            
                    
                    Kindle使用手册
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../6 - 数字生活/卡西欧gg1000指针调节.html">
            
                <a href="../../6 - 数字生活/卡西欧gg1000指针调节.html">
            
                    
                    卡西欧gg1000指针调节
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >YOLOv5 的详细使用教程，以及使用 yolov5 训练自己的数据集</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><ul><li><span class="title-icon "></span><a href="#11-&#x514B;&#x9686;&#x9879;&#x76EE;"><b>1.1. </b>1.1 &#x514B;&#x9686;&#x9879;&#x76EE;</a></li><li><span class="title-icon "></span><a href="#12-&#x5B89;&#x88C5;&#x5FC5;&#x8981;&#x7684;&#x73AF;&#x5883;&#x4F9D;&#x8D56;"><b>1.2. </b>1.2 &#x5B89;&#x88C5;&#x5FC5;&#x8981;&#x7684;&#x73AF;&#x5883;&#x4F9D;&#x8D56;</a></li><li><span class="title-icon "></span><a href="#21-&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;"><b>1.3. </b>2.1 &#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;</a></li><ul><li><span class="title-icon "></span><a href="#211-&#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;"><b>1.3.1. </b>2.1.1 &#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;</a></li><li><span class="title-icon "></span><a href="#212-&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x5230;yolov5weights&#x76EE;&#x5F55;&#x4E0B;&#x5373;&#x53EF;&#xFF0C;&#x6211;&#x5DF2;&#x7ECF;&#x628A;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x7684;url&#x63D0;&#x53D6;&#x51FA;&#x6765;"><b>1.3.2. </b>2.1.2 &#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x5230;/yolov5/weights&#x76EE;&#x5F55;&#x4E0B;&#x5373;&#x53EF;&#xFF0C;&#x6211;&#x5DF2;&#x7ECF;&#x628A;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x7684;url&#x63D0;&#x53D6;&#x51FA;&#x6765;</a></li></ul><li><span class="title-icon "></span><a href="#22-&#x4E0B;&#x8F7D;&#x6807;&#x6CE8;&#x7684;&#x6570;&#x636E;&#x96C6;"><b>1.4. </b>2.2 &#x4E0B;&#x8F7D;&#x6807;&#x6CE8;&#x7684;&#x6570;&#x636E;&#x96C6;</a></li><ul><li><span class="title-icon "></span><a href="#221-&#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;"><b>1.4.1. </b>2.2.1 &#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;</a></li><li><span class="title-icon "></span><a href="#222-&#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;-url-&#x94FE;&#x63A5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;coco128zip"><b>1.4.2. </b>2.2.2 &#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; url &#x94FE;&#x63A5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;coco128.zip</a></li></ul><li><span class="title-icon "></span><a href="#31-&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-datasetyaml"><b>1.5. </b>3.1 &#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; Dataset.yaml</a></li><li><span class="title-icon "></span><a href="#32-&#x521B;&#x5EFA;&#x6807;&#x7B7E;&#xFF08;labels&#xFF09;"><b>1.6. </b>3.2 &#x521B;&#x5EFA;&#x6807;&#x7B7E;&#xFF08;Labels&#xFF09;</a></li><li><span class="title-icon "></span><a href="#33-&#x7EC4;&#x7EC7;&#x6587;&#x4EF6;&#x7ED3;&#x6784;"><b>1.7. </b>3.3 &#x7EC4;&#x7EC7;&#x6587;&#x4EF6;&#x7ED3;&#x6784;</a></li><li><span class="title-icon "></span><a href="#34-&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;"><b>1.8. </b>3.4 &#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;</a></li><li><span class="title-icon "></span><a href="#35-&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;"><b>1.9. </b>3.5 &#x5F00;&#x59CB;&#x8BAD;&#x7EC3;</a></li><li><span class="title-icon "></span><a href="#351-&#x8BAD;&#x7EC3;&#x547D;&#x4EE4;"><b>1.10. </b>3.5.1 &#x8BAD;&#x7EC3;&#x547D;&#x4EE4;</a></li><li><span class="title-icon "></span><a href="#352-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-1"><b>1.11. </b>3.5.2 &#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF; 1</a></li><li><span class="title-icon "></span><a href="#353-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-2"><b>1.12. </b>3.5.3 &#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF; 2</a></li><li><span class="title-icon "></span><a href="#354-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-3"><b>1.13. </b>3.5.4 &#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF; 3</a></li><li><span class="title-icon "></span><a href="#36-&#x4F7F;&#x7528;-tensorboard-&#x53EF;&#x89C6;&#x5316;&#x7ED3;&#x679C;"><b>1.14. </b>3.6 &#x4F7F;&#x7528; tensorboard &#x53EF;&#x89C6;&#x5316;&#x7ED3;&#x679C;</a></li><li><span class="title-icon "></span><a href="#37-&#x6D4B;&#x8BD5;"><b>1.15. </b>3.7 &#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#41-&#x51C6;&#x5907;&#x6570;&#x636E;&#x96C6;"><b>1.16. </b>4.1 &#x51C6;&#x5907;&#x6570;&#x636E;&#x96C6;</a></li><li><span class="title-icon "></span><a href="#42-&#x4FEE;&#x6539;&#x6570;&#x636E;&#x548C;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><b>1.17. </b>4.2 &#x4FEE;&#x6539;&#x6570;&#x636E;&#x548C;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</a></li><ul><li><span class="title-icon "></span><a href="#421-&#x4FEE;&#x6539;&#x6570;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><b>1.17.1. </b>4.2.1 &#x4FEE;&#x6539;&#x6570;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#422-&#x4FEE;&#x6539;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><b>1.17.2. </b>4.2.2 &#x4FEE;&#x6539;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</a></li></ul><li><span class="title-icon "></span><a href="#43-&#x8BAD;&#x7EC3;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x96C6;"><b>1.18. </b>4.3 &#x8BAD;&#x7EC3;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x96C6;</a></li><li><span class="title-icon "></span><a href="#431-&#x4F7F;&#x7528;-yolovspt-&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;"><b>1.19. </b>4.3.1 &#x4F7F;&#x7528; yolovs.pt &#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;</a></li><ul><li><span class="title-icon "></span><a href="#432-&#x4F7F;&#x7528;-yolov5lpt-&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;"><b>1.19.1. </b>4.3.2 &#x4F7F;&#x7528; yolov5l.pt &#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;</a></li></ul><li><span class="title-icon "></span><a href="#44-&#x4F7F;&#x7528;&#x8BAD;&#x7EC3;&#x597D;&#x7684;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;"><b>1.20. </b>4.4 &#x4F7F;&#x7528;&#x8BAD;&#x7EC3;&#x597D;&#x7684;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#45-&#x5728;-tensorbaord-&#x4E0A;&#x67E5;&#x770B;&#x6570;&#x636E;&#x7684;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x6307;&#x6807;"><b>1.21. </b>4.5 &#x5728; Tensorbaord &#x4E0A;&#x67E5;&#x770B;&#x6570;&#x636E;&#x7684;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x6307;&#x6807;</a></li><li><span class="title-icon "></span><a href="#51-&#x56FE;&#x50CF;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><b>1.22. </b>5.1 &#x56FE;&#x50CF;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#52-&#x76EE;&#x5F55;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><b>1.23. </b>5.2 &#x76EE;&#x5F55;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#53-&#x89C6;&#x9891;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><b>1.24. </b>5.3 &#x89C6;&#x9891;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#54-&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><b>1.25. </b>5.4 &#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#55-http-&#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><b>1.26. </b>5.5 http &#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#56-rtsp-&#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><b>1.27. </b>5.6 rtsp &#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#61-&#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#x7684;&#x6D4B;&#x8BD5;&#x8868;&#x73B0;&#x53EF;&#x89C6;&#x5316;"><b>1.28. </b>6.1 &#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#x7684;&#x6D4B;&#x8BD5;&#x8868;&#x73B0;&#x53EF;&#x89C6;&#x5316;</a></li><li><span class="title-icon "></span><a href="#62-&#x8BAD;&#x7EC3;&#x635F;&#x5931;&#x548C;&#x6027;&#x80FD;&#x6307;&#x6807;&#x89C6;&#x5316;"><b>1.29. </b>6.2 &#x8BAD;&#x7EC3;&#x635F;&#x5931;&#x548C;&#x6027;&#x80FD;&#x6307;&#x6807;&#x89C6;&#x5316;</a></li></ul></ul></div><a href="#" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><blockquote>
<p>&#x672C;&#x6587;&#x7531; <a href="http://ksria.com/simpread/" target="_blank">&#x7B80;&#x60A6; SimpRead</a> &#x8F6C;&#x7801;&#xFF0C; &#x539F;&#x6587;&#x5730;&#x5740; <a href="https://shliang.blog.csdn.net/article/details/106785253" target="_blank">shliang.blog.csdn.net</a></p>
</blockquote>
<p>&#x6B22;&#x8FCE;&#x5927;&#x5BB6;&#x5173;&#x6CE8;&#x7B14;&#x8005;&#xFF0C;&#x4F60;&#x7684;&#x5173;&#x6CE8;&#x662F;&#x6211;&#x6301;&#x7EED;&#x66F4;&#x535A;&#x7684;&#x6700;&#x5927;&#x52A8;&#x529B;</p>
<p>&#x539F;&#x521B;&#x6587;&#x7AE0;&#xFF0C;&#x8F6C;&#x8F7D;&#x544A;&#x77E5;&#xFF0C;&#x76D7;&#x7248;&#x5FC5;&#x7A76;</p>
<p><strong>&#x672C;&#x4EBA;&#x73AF;&#x5883;&#x58F0;&#x660E;&#xFF1A;</strong></p>
<ul>
<li><code>&#x7CFB;&#x7EDF;&#x73AF;&#x5883;</code>&#xFF1A;<code>Ubuntu18.04.1</code></li>
<li><code>cuda&#x7248;&#x672C;</code>&#xFF1A;<code>10.2.89</code></li>
<li><code>cudnn&#x7248;&#x672C;</code>&#xFF1A;<code>7.6.5</code></li>
<li><code>torch&#x7248;&#x672C;</code>&#xFF1A;<code>1.5.0</code></li>
<li><code>torchvision&#x7248;&#x672C;</code>&#xFF1A;<code>0.6.0</code></li>
<li>&#x9879;&#x76EE;&#x4EE3;&#x7801;<code>yolov5</code>&#xFF0C;<a href="https://github.com/ultralytics/yolov5" target="_blank">&#x5B98;&#x7F51;</a>&#xFF0C;&#x9879;&#x76EE;&#x5F00;&#x6E90;&#x7684;&#x65F6;&#x95F4;&#xFF1A;<code>20200601</code></li>
</ul>
<p>&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x96C6;&#xFF1A;</p>
<h2 id="11-&#x514B;&#x9686;&#x9879;&#x76EE;"><a name="11-&#x514B;&#x9686;&#x9879;&#x76EE;" class="anchor-navigation-ex-anchor" href="#11-&#x514B;&#x9686;&#x9879;&#x76EE;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. 1.1 &#x514B;&#x9686;&#x9879;&#x76EE;</h2>
<blockquote>
<p><code>git clone https://github.com/ultralytics/yolov5 # clone repo</code></p>
</blockquote>
<p>&#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x955C;&#x50CF;&#x4E0B;&#x8F7D;&#xFF1A;</p>
<blockquote>
<p><code>git clone https://github.com.cnpmjs.org/ultralytics/yolov5 # clone repo</code></p>
</blockquote>
<h2 id="12-&#x5B89;&#x88C5;&#x5FC5;&#x8981;&#x7684;&#x73AF;&#x5883;&#x4F9D;&#x8D56;"><a name="12-&#x5B89;&#x88C5;&#x5FC5;&#x8981;&#x7684;&#x73AF;&#x5883;&#x4F9D;&#x8D56;" class="anchor-navigation-ex-anchor" href="#12-&#x5B89;&#x88C5;&#x5FC5;&#x8981;&#x7684;&#x73AF;&#x5883;&#x4F9D;&#x8D56;"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. 1.2 &#x5B89;&#x88C5;&#x5FC5;&#x8981;&#x7684;&#x73AF;&#x5883;&#x4F9D;&#x8D56;</h2>
<p>&#x5B98;&#x65B9;&#x7ED9;&#x51FA;&#x7684;&#x8981;&#x6C42;&#x662F;&#xFF1A;<code>python&gt;=3.7</code>&#x3001;<code>PyTorch&gt;=1.5</code>&#xFF0C;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#xFF1A;</p>
<blockquote>
<p>cd yolov5<br>pip install -U -r requirements.txt<br>requirements.txt</p>
</blockquote>
<pre><code># pip install -U -r requirements.txt
Cython
numpy==1.17
opencv-python
torch&gt;=1.5
matplotlib
pillow
tensorboard
PyYAML&gt;=5.3
torchvision
scipy
tqdm
git+https://github.com/cocodataset/cocoapi.git#subdirectory=PythonAPI

# Nvidia Apex (optional) for mixed precision training --------------------------
# git clone https://github.com/NVIDIA/apex &amp;&amp; cd apex &amp;&amp; pip install -v --no-cache-dir --global-option=&quot;--cpp_ext&quot; --global-option=&quot;--cuda_ext&quot; . --user &amp;&amp; cd .. &amp;&amp; rm -rf apex

# Conda commands (in place of pip) ---------------------------------------------
# conda update -yn base -c defaults conda
# conda install -yc anaconda numpy opencv matplotlib tqdm pillow ipython
# conda install -yc conda-forge scikit-image pycocotools tensorboard
# conda install -yc spyder-ide spyder-line-profiler
# conda install -yc pytorch pytorch torchvision
# conda install -yc conda-forge protobuf numpy &amp;&amp; pip install onnx  # https://github.com/onnx/onnx#linux-and-macos
</code></pre><h2 id="21-&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;"><a name="21-&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;" class="anchor-navigation-ex-anchor" href="#21-&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. 2.1 &#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;</h2>
<h3 id="211-&#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;"><a name="211-&#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;" class="anchor-navigation-ex-anchor" href="#211-&#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. 2.1.1 &#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;</h3>
<p><code>/yolov5/weights/download_weights.sh</code>&#x811A;&#x672C;&#x5B9A;&#x4E49;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#xFF0C;&#x811A;&#x672C;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>#!/bin/bash
# Download common models

python3 -c &quot;from utils.google_utils import *;
attempt_download(&apos;weights/yolov5s.pt&apos;);
attempt_download(&apos;weights/yolov5m.pt&apos;);
attempt_download(&apos;weights/yolov5l.pt&apos;);
attempt_download(&apos;weights/yolov5x.pt&apos;)&quot;
</code></pre><p><code>attempt_download&#x51FD;&#x6570;</code>&#x5728;<code>/yolov5/utils/google_utils.py</code>&#x811A;&#x672C;&#x4E2D;&#x5B9A;&#x4E49;</p>
<h3 id="212-&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x5230;yolov5weights&#x76EE;&#x5F55;&#x4E0B;&#x5373;&#x53EF;&#xFF0C;&#x6211;&#x5DF2;&#x7ECF;&#x628A;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x7684;url&#x63D0;&#x53D6;&#x51FA;&#x6765;"><a name="212-&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x5230;yolov5weights&#x76EE;&#x5F55;&#x4E0B;&#x5373;&#x53EF;&#xFF0C;&#x6211;&#x5DF2;&#x7ECF;&#x628A;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x7684;url&#x63D0;&#x53D6;&#x51FA;&#x6765;" class="anchor-navigation-ex-anchor" href="#212-&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x5230;yolov5weights&#x76EE;&#x5F55;&#x4E0B;&#x5373;&#x53EF;&#xFF0C;&#x6211;&#x5DF2;&#x7ECF;&#x628A;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x7684;url&#x63D0;&#x53D6;&#x51FA;&#x6765;"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. 2.1.2 &#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x5230;/yolov5/weights&#x76EE;&#x5F55;&#x4E0B;&#x5373;&#x53EF;&#xFF0C;&#x6211;&#x5DF2;&#x7ECF;&#x628A;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x7684;url&#x63D0;&#x53D6;&#x51FA;&#x6765;</h3>
<p>&#x5927;&#x5BB6;&#x76F4;&#x63A5;&#x5728;<code>google driver</code>&#x4E2D;&#x4E0B;&#x8F7D;&#x5373;&#x53EF;&#xFF0C;&#x5730;&#x5740;&#xFF08;<code>&#x53EF;&#x80FD;&#x9700;&#x8981;&#x79D1;&#x5B66;&#x4E0A;&#x7F51;</code>&#xFF09;&#xFF1A;</p>
<blockquote>
<p><a href="https://drive.google.com/drive/folders/1Drs_Aiu7xx6S-ix95f9kNsA6ueKRpN2J" target="_blank">&#x70B9;&#x6211;&#x2014;&#x2014;&#x300B;&#x5E26;&#x4F60;&#x53BB;&#xFF1A;</a><code>https://drive.google.com/drive/folders/1Drs_Aiu7xx6S-ix95f9kNsA6ueKRpN2J</code></p>
</blockquote>
<h2 id="22-&#x4E0B;&#x8F7D;&#x6807;&#x6CE8;&#x7684;&#x6570;&#x636E;&#x96C6;"><a name="22-&#x4E0B;&#x8F7D;&#x6807;&#x6CE8;&#x7684;&#x6570;&#x636E;&#x96C6;" class="anchor-navigation-ex-anchor" href="#22-&#x4E0B;&#x8F7D;&#x6807;&#x6CE8;&#x7684;&#x6570;&#x636E;&#x96C6;"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. 2.2 &#x4E0B;&#x8F7D;&#x6807;&#x6CE8;&#x7684;&#x6570;&#x636E;&#x96C6;</h2>
<h3 id="221-&#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;"><a name="221-&#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;" class="anchor-navigation-ex-anchor" href="#221-&#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. 2.2.1 &#x6267;&#x884C;&#x811A;&#x672C;&#x4E0B;&#x8F7D;</h3>
<blockquote>
<p><code>python3 -c &quot;from yolov5.utils.google_utils import gdrive_download; gdrive_download(&apos;1n_oKgR81BJtqk75b00eAjdv03qVCQn2f&apos;,&apos;coco128.zip&apos;)&quot; # download dataset</code></p>
</blockquote>
<p>&#x6267;&#x884C;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4F1A;&#x4E0B;&#x8F7D;&#xFF1A;<code>coco128.zip</code>&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x8BE5;&#x6570;&#x636E;&#x662F;<code>COCO train2017</code>&#x6570;&#x636E;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x53EA;&#x53D6;&#x4E86; coco &#x6570;&#x636E;&#x96C6;&#x4E2D;&#x7684; 128 &#x5F20;&#x6807;&#x6CE8;&#x7684;&#x56FE;&#x7247;&#xFF0C;coco128.zip &#x4E0B;&#x8F7D;&#x5B8C;&#x540E;&#x89E3;&#x538B;&#x5230;<code>/yolov5</code>&#x76EE;&#x5F55;&#x4E0B;&#x5373;&#x53EF;&#xFF0C;&#x89E3;&#x538B;&#x540E;&#x7684; coco128 &#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>coco128
|-- LICENSE
|-- README.txt  # &#x76F8;&#x5173;&#x8BF4;&#x660E;
|-- annotations  # &#x7A7A;&#x76EE;&#x5F55;
|-- images   # 128&#x5F20;jpg&#x56FE;&#x7247;
`-- labels  # 128&#x5F20;&#x6807;&#x6CE8;&#x7684;txt&#x6587;&#x4EF6;
</code></pre><p><code>/yolov5/utils/google_utils.py</code>&#x811A;&#x672C;&#x662F;&#x4E0B;&#x8F7D;<code>&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;</code>&#x548C;<code>&#x6807;&#x6CE8;&#x7684;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;</code>&#xFF0C;&#x8BE5;&#x811A;&#x672C;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code># This file contains google utils: https://cloud.google.com/storage/docs/reference/libraries
# pip install --upgrade google-cloud-storage
# from google.cloud import storage

import os
import time
from pathlib import Path


def attempt_download(weights):
    # Attempt to download pretrained weights if not found locally
    weights = weights.strip()
    msg = weights + &apos; missing, try downloading from https://drive.google.com/drive/folders/1Drs_Aiu7xx6S-ix95f9kNsA6ueKRpN2J&apos;

    r = 1
    if len(weights) &gt; 0 and not os.path.isfile(weights):
        d = {&apos;yolov3-spp.pt&apos;: &apos;1mM67oNw4fZoIOL1c8M3hHmj66d8e-ni_&apos;,  # yolov3-spp.yaml
             &apos;yolov5s.pt&apos;: &apos;1R5T6rIyy3lLwgFXNms8whc-387H0tMQO&apos;,  # yolov5s.yaml
             &apos;yolov5m.pt&apos;: &apos;1vobuEExpWQVpXExsJ2w-Mbf3HJjWkQJr&apos;,  # yolov5m.yaml
             &apos;yolov5l.pt&apos;: &apos;1hrlqD1Wdei7UT4OgT785BEk1JwnSvNEV&apos;,  # yolov5l.yaml
             &apos;yolov5x.pt&apos;: &apos;1mM8aZJlWTxOg7BZJvNUMrTnA2AbeCVzS&apos;,  # yolov5x.yaml
             }

        file = Path(weights).name
        if file in d:
            r = gdrive_download(id=d[file], name=weights)

        if not (r == 0 and os.path.exists(weights) and os.path.getsize(weights) &gt; 1E6):  # weights exist and &gt; 1MB
            os.remove(weights) if os.path.exists(weights) else None  # remove partial downloads
            s = &quot;curl -L -o %s &apos;https://storage.googleapis.com/ultralytics/yolov5/ckpt/%s&apos;&quot; % (weights, file)
            r = os.system(s)  # execute, capture return values

            # Error check
            if not (r == 0 and os.path.exists(weights) and os.path.getsize(weights) &gt; 1E6):  # weights exist and &gt; 1MB
                os.remove(weights) if os.path.exists(weights) else None  # remove partial downloads
                raise Exception(msg)


def gdrive_download(id=&apos;1HaXkef9z6y5l4vUnCYgdmEAj61c6bfWO&apos;, name=&apos;coco.zip&apos;):
    # https://gist.github.com/tanaikech/f0f2d122e05bf5f971611258c22c110f
    # Downloads a file from Google Drive, accepting presented query
    # from utils.google_utils import *; gdrive_download()
    t = time.time()

    print(&apos;Downloading https://drive.google.com/uc?export=download&amp;id=%s as %s... &apos; % (id, name), end=&apos;&apos;)
    os.remove(name) if os.path.exists(name) else None  # remove existing
    os.remove(&apos;cookie&apos;) if os.path.exists(&apos;cookie&apos;) else None

    # Attempt file download
    os.system(&quot;curl -c ./cookie -s -L \&quot;https://drive.google.com/uc?export=download&amp;id=%s\&quot; &gt; /dev/null&quot; % id)
    if os.path.exists(&apos;cookie&apos;):  # large file
        s = &quot;curl -Lb ./cookie \&quot;https://drive.google.com/uc?export=download&amp;confirm=`awk &apos;/download/ {print $NF}&apos; ./cookie`&amp;id=%s\&quot; -o %s&quot; % (
            id, name)
    else:  # small file
        s = &quot;curl -s -L -o %s &apos;https://drive.google.com/uc?export=download&amp;id=%s&apos;&quot; % (name, id)
    r = os.system(s)  # execute, capture return values
    os.remove(&apos;cookie&apos;) if os.path.exists(&apos;cookie&apos;) else None

    # Error check
    if r != 0:
        os.remove(name) if os.path.exists(name) else None  # remove partial
        print(&apos;Download error &apos;)  # raise Exception(&apos;Download error&apos;)
        return r

    # Unzip if archive
    if name.endswith(&apos;.zip&apos;):
        print(&apos;unzipping... &apos;, end=&apos;&apos;)
        os.system(&apos;unzip -q %s&apos; % name)  # unzip
        os.remove(name)  # remove zip to free space

    print(&apos;Done (%.1fs)&apos; % (time.time() - t))
    return r

# def upload_blob(bucket_name, source_file_name, destination_blob_name):
#     # Uploads a file to a bucket
#     # https://cloud.google.com/storage/docs/uploading-objects#storage-upload-object-python
#
#     storage_client = storage.Client()
#     bucket = storage_client.get_bucket(bucket_name)
#     blob = bucket.blob(destination_blob_name)
#
#     blob.upload_from_filename(source_file_name)
#
#     print(&apos;File {} uploaded to {}.&apos;.format(
#         source_file_name,
#         destination_blob_name))
#
#
# def download_blob(bucket_name, source_blob_name, destination_file_name):
#     # Uploads a blob from a bucket
#     storage_client = storage.Client()
#     bucket = storage_client.get_bucket(bucket_name)
#     blob = bucket.blob(source_blob_name)
#
#     blob.download_to_filename(destination_file_name)
#
#     print(&apos;Blob {} downloaded to {}.&apos;.format(
#         source_blob_name,
#         destination_file_name))
</code></pre><h3 id="222-&#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;-url-&#x94FE;&#x63A5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;coco128zip"><a name="222-&#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;-url-&#x94FE;&#x63A5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;coco128zip" class="anchor-navigation-ex-anchor" href="#222-&#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;-url-&#x94FE;&#x63A5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;coco128zip"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.2. 2.2.2 &#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; url &#x94FE;&#x63A5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;coco128.zip</h3>
<blockquote>
<p><a href="https://drive.google.com/uc?export=download&amp;id=1n_oKgR81BJtqk75b00eAjdv03qVCQn2f" target="_blank">&#x70B9;&#x6211;&#x2014;&#x2014;&#x300B;&#x5E26;&#x4F60;&#x53BB;&#xFF1A;</a><a href="https://drive.google.com/uc?export=download&amp;id=1n_oKgR81BJtqk75b00eAjdv03qVCQn2f" target="_blank">https://drive.google.com/uc?export=download&amp;id=1n_oKgR81BJtqk75b00eAjdv03qVCQn2f</a></p>
</blockquote>
<p>&#x4E0A;&#x9762;&#x4E0B;&#x8F7D;&#x597D;&#x9884;&#x8BAD;&#x7EC3;</p>
<p>&#x51C6;&#x5907;&#x597D;&#x4E0A;&#x9762;&#x7684;&#x73AF;&#x5883;&#x548C;&#x4E0B;&#x8F7D;&#x597D;&#x6587;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x81EA;&#x5B9A;&#x4E49;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#x5566;&#xFF01;</p>
<h2 id="31-&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-datasetyaml"><a name="31-&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-datasetyaml" class="anchor-navigation-ex-anchor" href="#31-&#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;-datasetyaml"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. 3.1 &#x521B;&#x5EFA;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; Dataset.yaml</h2>
<p>&#x4E0A;&#x9762;&#x4E0B;&#x8F7D;&#x597D;<code>coco128.zip</code>&#x5C0F;&#x578B;&#x6570;&#x636E;&#x96C6;&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x96C6;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x8BAD;&#x7EC3;&#x548C;&#x9A8C;&#x8BC1;<br>/content/yolov5/models/yolov5l.yaml&#x3002;<code>coco128.yaml</code>&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;&#xFF1A;</p>
<ul>
<li>&#x8BAD;&#x7EC3;&#x56FE;&#x7247;&#x7684;&#x8DEF;&#x5F84;&#xFF08;&#x6216;&#x8BAD;&#x7EC3;&#x56FE;&#x7247;&#x5217;&#x8868;&#x7684;<code>.txt</code>&#x6587;&#x4EF6;&#xFF09;</li>
<li>&#x4E0E;&#x9A8C;&#x8BC1;&#x96C6;&#x76F8;&#x540C;&#x7684;&#x56FE;&#x7247;</li>
<li>&#x76EE;&#x6807;&#x7684;&#x7C7B;&#x522B;&#x6570;</li>
<li>&#x7C7B;&#x540D;&#x5217;&#x8868;</li>
</ul>
<p>&#x4E0B;&#x9762;&#x662F;<code>/data/coco128.yaml</code>&#x6587;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5185;&#x5BB9;&#xFF1A;</p>
<pre><code># COCO 2017 dataset http://cocodataset.org - first 128 training images
# Download command:  python -c &quot;from yolov5.utils.google_utils import gdrive_download; gdrive_download(&apos;1n_oKgR81BJtqk75b00eAjdv03qVCQn2f&apos;,&apos;coco128.zip&apos;)&quot;
# Train command: python train.py --data ./data/coco128.yaml
# Dataset should be placed next to yolov5 folder:
#   /parent_folder
#     /coco128
#     /yolov5


# &#x8BAD;&#x7EC3;&#x96C6;&#x548C;&#x9A8C;&#x8BC1;&#x96C6; &#xFF08;&#x56FE;&#x7247;&#x7684;&#x76EE;&#x5F55;&#x8DEF;&#x5F84;&#x6216; *.txt&#x56FE;&#x7247;&#x8DEF;&#x5F84;&#xFF09;
train: ../coco128/images/train2017/
val: ../coco128/images/train2017/

# &#x7C7B;&#x522B;&#x6570; number of classes
nc: 80

# &#x7C7B;&#x522B;&#x5217;&#x8868; class names
names: [&apos;person&apos;, &apos;bicycle&apos;, &apos;car&apos;, &apos;motorcycle&apos;, &apos;airplane&apos;, &apos;bus&apos;, &apos;train&apos;, &apos;truck&apos;, &apos;boat&apos;, &apos;traffic light&apos;,
        &apos;fire hydrant&apos;, &apos;stop sign&apos;, &apos;parking meter&apos;, &apos;bench&apos;, &apos;bird&apos;, &apos;cat&apos;, &apos;dog&apos;, &apos;horse&apos;, &apos;sheep&apos;, &apos;cow&apos;,
        &apos;elephant&apos;, &apos;bear&apos;, &apos;zebra&apos;, &apos;giraffe&apos;, &apos;backpack&apos;, &apos;umbrella&apos;, &apos;handbag&apos;, &apos;tie&apos;, &apos;suitcase&apos;, &apos;frisbee&apos;,
        &apos;skis&apos;, &apos;snowboard&apos;, &apos;sports ball&apos;, &apos;kite&apos;, &apos;baseball bat&apos;, &apos;baseball glove&apos;, &apos;skateboard&apos;, &apos;surfboard&apos;,
        &apos;tennis racket&apos;, &apos;bottle&apos;, &apos;wine glass&apos;, &apos;cup&apos;, &apos;fork&apos;, &apos;knife&apos;, &apos;spoon&apos;, &apos;bowl&apos;, &apos;banana&apos;, &apos;apple&apos;,
        &apos;sandwich&apos;, &apos;orange&apos;, &apos;broccoli&apos;, &apos;carrot&apos;, &apos;hot dog&apos;, &apos;pizza&apos;, &apos;donut&apos;, &apos;cake&apos;, &apos;chair&apos;, &apos;couch&apos;,
        &apos;potted plant&apos;, &apos;bed&apos;, &apos;dining table&apos;, &apos;toilet&apos;, &apos;tv&apos;, &apos;laptop&apos;, &apos;mouse&apos;, &apos;remote&apos;, &apos;keyboard&apos;, &apos;cell phone&apos;,
        &apos;microwave&apos;, &apos;oven&apos;, &apos;toaster&apos;, &apos;sink&apos;, &apos;refrigerator&apos;, &apos;book&apos;, &apos;clock&apos;, &apos;vase&apos;, &apos;scissors&apos;, &apos;teddy bear&apos;,
        &apos;hair drier&apos;, &apos;toothbrush&apos;]
</code></pre><h2 id="32-&#x521B;&#x5EFA;&#x6807;&#x7B7E;&#xFF08;labels&#xFF09;"><a name="32-&#x521B;&#x5EFA;&#x6807;&#x7B7E;&#xFF08;labels&#xFF09;" class="anchor-navigation-ex-anchor" href="#32-&#x521B;&#x5EFA;&#x6807;&#x7B7E;&#xFF08;labels&#xFF09;"><i class="fa fa-link" aria-hidden="true"></i></a>1.6. 3.2 &#x521B;&#x5EFA;&#x6807;&#x7B7E;&#xFF08;Labels&#xFF09;</h2>
<p>&#x5BF9;&#x6570;&#x636E;&#x96C6;&#x8FDB;&#x884C;<code>&#x6253;&#x6807;&#x7B7E;</code>&#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x6253;&#x6807;&#x5DE5;&#x5177;&#xFF1A;</p>
<ul>
<li><a href="https://labelbox.com/" target="_blank">Labelbox</a></li>
<li><a href="https://github.com/opencv/cvat" target="_blank">CVAT</a></li>
<li>&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; LabelImg&#xFF0C;&#x9009;&#x7528; ylolo &#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x6807;&#x6CE8;</li>
</ul>
<p>&#x5C06;&#x6807;&#x7B7E;&#x5BFC;&#x51FA;&#x4E3A;<code>darknet&#x683C;&#x5F0F;</code>&#xFF0C;&#x6BCF;&#x4E2A;&#x6807;&#x6CE8;&#x56FE;&#x50CF;&#x6709;&#x4E00;&#x4E2A;<code>*.txt&#x6587;&#x4EF6;</code>&#xFF08;&#x5982;&#x679C;&#x56FE;&#x50CF;&#x4E2D;&#x6CA1;&#x6709;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4E0D;&#x9700;&#x8981;<code>*.txt&#x6587;&#x4EF6;</code>&#xFF09;&#xFF0C;<code>*.txt&#x6587;&#x4EF6;</code>&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>&#x6BCF;&#x884C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</li>
<li>&#x6BCF;&#x884C;&#x90FD;&#x662F;&#xFF1A;<code>class x_center y_center width height</code>&#x683C;&#x5F0F;</li>
<li>&#x6846;&#x7684;&#x5750;&#x6807;&#x683C;&#x5F0F;&#x5FC5;&#x987B;&#x91C7;&#x7528;<code>&#x5F52;&#x4E00;&#x5316;&#x683C;&#x5F0F;&#x7684;xywh&#xFF08;&#x4ECE;0&#x5230;1&#xFF09;</code>&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6846;&#x4EE5;&#x50CF;&#x7D20;&#x4E3A;&#x5355;&#x4F4D;&#xFF0C;&#x5219;&#x5C06;<code>x_center&#x548C;width&#x9664;&#x4EE5;&#x56FE;&#x50CF;&#x5BBD;&#x5EA6;</code>&#xFF0C;&#x5C06;<code>y_center&#x548C;height&#x9664;&#x4EE5;&#x56FE;&#x50CF;&#x7684;&#x9AD8;&#x5EA6;</code></li>
<li>&#x7C7B;&#x522B;&#x662F;&#x4ECE;<code>&#x7D22;&#x5F15;0</code>&#x5F00;&#x59CB;&#x7684;</li>
</ul>
<p>&#x901A;&#x8FC7;&#x5728;&#x5668;&#x8DEF;&#x5F84;&#x540D;&#x4E2D;&#x5C06;<code>/images/*.jpg</code>&#x66FF;&#x6362;&#x4E3A;<code>/label/*.txt</code>&#xFF0C;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;&#x6BCF;&#x4E2A;&#x56FE;&#x50CF;&#x7684;&#x6807;&#x7B7E;&#x6587;&#x4EF6;&#xFF0C;&#x793A;&#x4F8B;&#x56FE;&#x50CF;&#x548C;&#x6807;&#x7B7E;&#x5BF9;&#x4E3A;&#xFF1A;</p>
<pre><code>dataset/images/train2017/000000109622.jpg  # image
dataset/labels/train2017/000000109622.txt  # label
</code></pre><p>&#x4F8B;&#x5982;&#xFF1A;<code>000000000009.txt</code>&#x6807;&#x7B7E;&#x6587;&#x4EF6;&#xFF0C;&#x8868;&#x793A;<code>000000000009.jpg&#x56FE;&#x7247;</code>&#x4E2D;&#x6807;&#x6CE8;&#x4E86; 8 &#x4E2A;&#x76EE;&#x6807;&#xFF1A;</p>
<pre><code>45 0.479492 0.688771 0.955609 0.5955
45 0.736516 0.247188 0.498875 0.476417
50 0.637063 0.732938 0.494125 0.510583
45 0.339438 0.418896 0.678875 0.7815
49 0.646836 0.132552 0.118047 0.096937
49 0.773148 0.129802 0.090734 0.097229
49 0.668297 0.226906 0.131281 0.146896
49 0.642859 0.079219 0.148063 0.148062
</code></pre><h2 id="33-&#x7EC4;&#x7EC7;&#x6587;&#x4EF6;&#x7ED3;&#x6784;"><a name="33-&#x7EC4;&#x7EC7;&#x6587;&#x4EF6;&#x7ED3;&#x6784;" class="anchor-navigation-ex-anchor" href="#33-&#x7EC4;&#x7EC7;&#x6587;&#x4EF6;&#x7ED3;&#x6784;"><i class="fa fa-link" aria-hidden="true"></i></a>1.7. 3.3 &#x7EC4;&#x7EC7;&#x6587;&#x4EF6;&#x7ED3;&#x6784;</h2>
<p>&#x6839;&#x636E;&#x4E0B;&#x56FE;&#x6574;&#x7406;&#x81EA;&#x5DF1;&#x7684;&#x8BAD;&#x7EC3;&#x96C6;&#x548C;&#x9A8C;&#x8BC1;&#x96C6;&#x56FE;&#x7247;&#x53CA;&#x6807;&#x7B7E;&#x3002;&#x6CE8;&#x610F;&#xFF1A;<code>/coco128</code>&#x76EE;&#x5F55;&#x5E94;&#x8BE5;&#x548C;<code>yolov5</code>&#x76EE;&#x5F55;&#x540C;&#x7EA7;&#xFF0C;&#x540C;&#x65F6;&#x786E;&#x4FDD;<code>coco128/labels</code>&#x548C;<code>coco128/images</code>&#x4E24;&#x4E2A;&#x76EE;&#x5F55;&#x540C;&#x7EA7;&#xFF01;<br><img src="https://img-blog.csdnimg.cn/20200710151637513.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="34-&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;"><a name="34-&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;" class="anchor-navigation-ex-anchor" href="#34-&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;"><i class="fa fa-link" aria-hidden="true"></i></a>1.8. 3.4 &#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;</h2>
<p>&#x4E0A;&#x9762;&#x5DF2;&#x7ECF;&#x4FEE;&#x6539;&#x4E86;&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x7EC4;&#x7EC7;&#x597D;&#x4E86;&#x6570;&#x636E;&#x3002;&#x4E0B;&#x9762;&#x5C31;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#x4E86;&#x3002;</p>
<p>&#x4ECE;<code>./models</code>&#x76EE;&#x5F55;&#x4E0B;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9009;&#x62E9;<code>yolov5s.ymal</code>&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;<code>&#x6700;&#x5C0F;&#x6700;&#x5FEB;</code>&#x7684;&#x6A21;&#x578B;&#x3002;&#x5173;&#x4E8E;&#x5176;&#x4ED6;&#x6A21;&#x578B;&#x4E4B;&#x95F4;&#x7684;&#x6BD4;&#x8F83;&#x4E0B;&#x9762;&#x4ECB;&#x7ECD;&#x3002;&#x9009;&#x62E9;&#x597D;&#x6A21;&#x578B;&#x4E4B;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684;&#x4E0D;&#x662F; coco &#x6570;&#x636E;&#x96C6;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#xFF0C;&#x800C;&#x662F;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x6B64;&#x65F6;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539;<code>*.yaml&#x914D;&#x7F6E;&#x6587;&#x4EF6;</code>&#x4E2D;&#x7684;<code>nc: 80</code>&#x53C2;&#x6570;&#x548C;<code>&#x6570;&#x636E;&#x7684;&#x7C7B;&#x522B;&#x5217;&#x8868;</code></p>
<p>&#x4E0B;&#x9762;&#x662F;<code>yolo5s.ymal</code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#xFF1A;</p>
<pre><code># parameters
nc: 80  # number of classes
depth_multiple: 0.33  # model depth multiple
width_multiple: 0.50  # layer channel multiple

# anchors
anchors:
  - [116,90, 156,198, 373,326]  # P5/32
  - [30,61, 62,45, 59,119]  # P4/16
  - [10,13, 16,30, 33,23]  # P3/8

# YOLOv5 backbone
backbone:
  # [from, number, module, args]
  [[-1, 1, Focus, [64, 3]],  # 0-P1/2
   [-1, 1, Conv, [128, 3, 2]],  # 1-P2/4
   [-1, 3, BottleneckCSP, [128]],
   [-1, 1, Conv, [256, 3, 2]],  # 3-P3/8
   [-1, 9, BottleneckCSP, [256]],
   [-1, 1, Conv, [512, 3, 2]],  # 5-P4/16
   [-1, 9, BottleneckCSP, [512]],
   [-1, 1, Conv, [1024, 3, 2]], # 7-P5/32
   [-1, 1, SPP, [1024, [5, 9, 13]]],
  ]

# YOLOv5 head
head:
  [[-1, 3, BottleneckCSP, [1024, False]],  # 9

   [-1, 1, Conv, [512, 1, 1]],
   [-1, 1, nn.Upsample, [None, 2, &apos;nearest&apos;]],
   [[-1, 6], 1, Concat, [1]],  # cat backbone P4
   [-1, 3, BottleneckCSP, [512, False]],  # 13

   [-1, 1, Conv, [256, 1, 1]],
   [-1, 1, nn.Upsample, [None, 2, &apos;nearest&apos;]],
   [[-1, 4], 1, Concat, [1]],  # cat backbone P3
   [-1, 3, BottleneckCSP, [256, False]],
   [-1, 1, nn.Conv2d, [na * (nc + 5), 1, 1]],  # 18 (P3/8-small)

   [-2, 1, Conv, [256, 3, 2]],
   [[-1, 14], 1, Concat, [1]],  # cat head P4
   [-1, 3, BottleneckCSP, [512, False]],
   [-1, 1, nn.Conv2d, [na * (nc + 5), 1, 1]],  # 22 (P4/16-medium)

   [-2, 1, Conv, [512, 3, 2]],
   [[-1, 10], 1, Concat, [1]],  # cat head P5
   [-1, 3, BottleneckCSP, [1024, False]],
   [-1, 1, nn.Conv2d, [na * (nc + 5), 1, 1]],  # 26 (P5/32-large)

   [[], 1, Detect, [nc, anchors]],  # Detect(P5, P4, P3)
  ]
</code></pre><p><code>yolov5s.yaml&#x914D;&#x7F6E;&#x6587;&#x4EF6;</code>&#x4E2D;&#x4E3B;&#x8981;&#x5B9A;&#x4E49;&#x4E86;&#xFF1A;</p>
<ul>
<li>&#x53C2;&#x6570;&#xFF08;parameters&#xFF09;&#xFF1A;&#x7C7B;&#x522B;&#x7B49;</li>
<li>anchor</li>
<li>YOLOv5 backbone</li>
<li>YOLOv5 head</li>
</ul>
<h2 id="35-&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;"><a name="35-&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;" class="anchor-navigation-ex-anchor" href="#35-&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;"><i class="fa fa-link" aria-hidden="true"></i></a>1.9. 3.5 &#x5F00;&#x59CB;&#x8BAD;&#x7EC3;</h2>
<h2 id="351-&#x8BAD;&#x7EC3;&#x547D;&#x4EE4;"><a name="351-&#x8BAD;&#x7EC3;&#x547D;&#x4EE4;" class="anchor-navigation-ex-anchor" href="#351-&#x8BAD;&#x7EC3;&#x547D;&#x4EE4;"><i class="fa fa-link" aria-hidden="true"></i></a>1.10. 3.5.1 &#x8BAD;&#x7EC3;&#x547D;&#x4EE4;</h2>
<p><strong><code>&#x4E0A;&#x9762;&#x4E00;&#x5207;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#xFF0C;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;&#x5566;</code></strong></p>
<p>&#x8FD0;&#x884C;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x8BAD;&#x7EC3;<code>coco128.ymal</code>&#xFF0C;&#x8BAD;&#x7EC3; 5epochs&#x3002;&#x53EF;&#x4EE5;&#x6709;&#x4E24;&#x79CD;&#x8BAD;&#x7EC3;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#x4E0B;&#x53C2;&#x6570;&#xFF1A;</p>
<ul>
<li><code>--cfg yolov5s.yaml --weights &apos;&apos;</code>&#xFF1A;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;</li>
<li><code>--cfg yolov5s.yaml --weights yolov5s.pt</code>&#xFF1A;&#x4ECE;&#x9884;&#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#x52A0;&#x8F7D;&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;</li>
</ul>
<p>YOLOv5 &#x5728; coco128 &#x4E0A;&#x8BAD;&#x7EC3; 5epochs &#x7684;&#x547D;&#x4EE4;&#xFF1A;</p>
<blockquote>
<p><code>python train.py --img 640 --batch 16 --epochs 5 --data ./data/coco128.yaml --cfg ./models/yolov5s.yaml --weights &apos;&apos;</code></p>
</blockquote>
<p>&#x8BAD;&#x7EC3;&#x7684;&#x66F4;&#x591A;&#x53EF;&#x9009;&#x53C2;&#x6570;&#xFF1A;</p>
<ul>
<li><code>--epochs</code>&#xFF1A;&#x8BAD;&#x7EC3;&#x7684; epoch&#xFF0C;<code>&#x9ED8;&#x8BA4;&#x503C;300</code></li>
<li><code>--batch-size</code>&#xFF1A;<code>&#x9ED8;&#x8BA4;&#x503C;16</code></li>
<li><code>--cfg</code>&#xFF1A;&#x6A21;&#x578B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;<code>&#x9ED8;&#x8BA4;&#x4E3A;yolov5s.yaml</code></li>
<li><code>--data</code>&#xFF1A;&#x6570;&#x636E;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;<code>&#x9ED8;&#x8BA4;&#x4E3A;data/coco128.yaml</code></li>
<li><code>--img-size</code>&#xFF1A;&#x8BAD;&#x7EC3;&#x548C;&#x6D4B;&#x8BD5;&#x8F93;&#x5165;&#x5927;&#x5C0F;&#xFF0C;<code>&#x9ED8;&#x8BA4;&#x4E3A;[640, 640]</code></li>
<li><code>--rect</code>&#xFF1A;rectangular training&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
<li><code>--resume</code>&#xFF1A;&#x662F;&#x5426;&#x4ECE;<code>&#x6700;&#x65B0;&#x7684;last.pt</code>&#x4E2D;&#x6062;&#x590D;&#x8BAD;&#x7EC3;&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
<li><code>--nosave</code>&#xFF1A;&#x4EC5;&#x4EC5;&#x4FDD;&#x5B58;&#x6700;&#x540E;&#x7684; checkpoint&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
<li><code>--notest</code>&#xFF1A;&#x4EC5;&#x4EC5;&#x5728;&#x6700;&#x540E;&#x7684; epoch &#x4E0A;&#x6D4B;&#x8BD5;&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
<li><code>--evolve</code>&#xFF1A;&#x8FDB;&#x5316;&#x8D85;&#x53C2;&#x6570;&#xFF08;evolve hyperparameters&#xFF09;&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
<li><code>--bucket</code>&#xFF1A;gsutil bucket&#xFF0C;<code>&#x9ED8;&#x8BA4;&#x503C;&apos;&apos;</code></li>
<li><code>--cache-images</code>&#xFF1A;&#x7F13;&#x5B58;&#x56FE;&#x7247;&#x53EF;&#x4EE5;&#x66F4;&#x5FEB;&#x7684;&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
<li><code>--weights</code>&#xFF1A;&#x521D;&#x59CB;&#x5316;&#x53C2;&#x6570;&#x8DEF;&#x5F84;&#xFF0C;<code>&#x9ED8;&#x8BA4;&#x503C;&apos;&apos;</code></li>
<li><code>--name</code>&#xFF1A;&#x5982;&#x679C;&#x63D0;&#x4F9B;&#xFF0C;&#x5C06;<code>results.txt</code>&#x91CD;&#x547D;&#x540D;&#x4E3A;<code>results_name.txt</code></li>
<li><code>--device</code>&#xFF1A;cuda &#x8BBE;&#x5907;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;<code>0&#x6216;0,1,2,3&#x6216;cpu</code>&#xFF0C;<code>&#x9ED8;&#x8BA4;&apos;&apos;</code></li>
<li><code>--adam</code>&#xFF1A;&#x4F7F;&#x7528;<code>adam&#x4F18;&#x5316;&#x5668;</code>&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
<li><code>--multi-scale</code>&#xFF1A;&#x6539;&#x53D8;&#x56FE;&#x7247;&#x5C3A;&#x5BF8; img-size <code>+/0- 50%</code>&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
<li><code>--single-cls</code>&#xFF1A;&#x8BAD;&#x7EC3;<code>&#x5355;&#x4E2A;&#x7C7B;&#x522B;</code>&#x7684;&#x6570;&#x636E;&#x96C6;&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
</ul>
<h2 id="352-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-1"><a name="352-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-1" class="anchor-navigation-ex-anchor" href="#352-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-1"><i class="fa fa-link" aria-hidden="true"></i></a>1.11. 3.5.2 &#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF; 1</h2>
<p>1&#x3001;&#x6267;&#x884C;&#x8BAD;&#x7EC3;&#x547D;&#x4EE4;&#x62A5;&#x9519;&#xFF1A;<code>RuntimeError: Model replicas must have an equal number of parameters.</code>&#xFF0C;&#x9519;&#x8BEF;&#x663E;&#x793A;&#xFF0C;&#x6A21;&#x578B;&#x7684;&#x526F;&#x672C;&#x5FC5;&#x987B;&#x6709;&#x76F8;&#x540C;&#x7684;&#x53C2;&#x6570;</p>
<p>2&#x3001;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#xFF1A;<br>&#x8FD9;&#x4E2A;&#x53EF;&#x80FD;&#x662F;&#x7531;&#x4E8E; Pytorch &#x7684;&#x7248;&#x672C;&#x95EE;&#x9898;&#x5BFC;&#x81F4;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x6211;&#x7684; torch &#x7248;&#x672C;&#x4E3A;<code>15.0</code>&#xFF0C;&#x628A;&#x7248;&#x672C;&#x964D;&#x4E3A;<code>1.4.0</code>&#x5373;&#x53EF;&#xFF08;<a href="https://github.com/ultralytics/yolov5/issues/11" target="_blank">&#x53C2;&#x8003;</a>&#xFF09;&#xFF1A;</p>
<blockquote>
<p><code>pip install torch==1.4.0+cu100 torchvision==0.5.0+cu100 -f https://download.pytorch.org/whl/torch_stable.html</code></p>
</blockquote>
<h2 id="353-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-2"><a name="353-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-2" class="anchor-navigation-ex-anchor" href="#353-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-2"><i class="fa fa-link" aria-hidden="true"></i></a>1.12. 3.5.3 &#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF; 2</h2>
<p>1&#x3001;&#x6267;&#x884C;&#x8BAD;&#x7EC3;&#x547D;&#x4EE4;&#x62A5;&#x9519;&#xFF1A;<code>ModuleNotFoundError: No module named &apos;yaml&apos;</code></p>
<p>2&#x3001;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#xFF1A;<br>&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x6CA1;&#x6709;&#x5B89;&#x88C5;<code>yaml</code>&#x5E93;&#x5305;&#x9519;&#x8BEF;&#xFF0C;&#x867D;&#x7136;&#x5BFC;&#x5165;&#x662F;&#xFF1A;<code>import yaml</code>&#xFF0C;&#x4F46;&#x662F;&#x5B89;&#x88C5;&#x7684;&#x540D;&#x5B57;&#x5374;&#x4E0D;&#x662F;<code>yaml</code>&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x6B63;&#x786E;&#x5B89;&#x88C5; yaml&#xFF1A;</p>
<blockquote>
<p><code>pip install PyYAML</code></p>
</blockquote>
<h2 id="354-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-3"><a name="354-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-3" class="anchor-navigation-ex-anchor" href="#354-&#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF;-3"><i class="fa fa-link" aria-hidden="true"></i></a>1.13. 3.5.4 &#x8BAD;&#x7EC3;&#x5E38;&#x89C1;&#x9519;&#x8BEF; 3</h2>
<p>1&#x3001;&#x6267;&#x884C;&#x8BAD;&#x7EC3;&#x547D;&#x4EE4;&#x62A5;&#x9519;&#xFF1A;<code>AttributeError: &apos;DistributedDataParallel&apos; object has no attribute &apos;model&apos;</code></p>
<p>2&#x3001;&#x9519;&#x8BEF;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#xFF1A;<br>&#x8FD9;&#x4E2A;&#x662F;&#x7531;&#x4E8E;<code>--device</code>&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;<code>&apos;&apos;</code>&#xFF0C;&#x6B64;&#x65F6;&#x9ED8;&#x8BA4;&#x4F1A;&#x4F7F;&#x7528;&#x591A; GPU &#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#xFF0C;&#x4F46;&#x662F;&#x591A; GPU &#x8BAD;&#x7EC3;&#x65F6;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x65F6;&#x4E00;&#x4E2A; bug&#xFF08;<a href="https://github.com/ultralytics/yolov5/issues/90" target="_blank">&#x53C2;&#x8003;</a>&#xFF09;&#xFF0C;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x5355; GPU&#xFF0C;&#x628A;&#x8BAD;&#x7EC3;&#x547D;&#x4EE4;&#x6539;&#x6210;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p><code>python train.py --img 640 --batch 16 --epochs 5 --data ./data/coco128.yaml --cfg ./models/yolov5s.yaml --weights &apos;&apos; --device 0</code></p>
</blockquote>
<h2 id="36-&#x4F7F;&#x7528;-tensorboard-&#x53EF;&#x89C6;&#x5316;&#x7ED3;&#x679C;"><a name="36-&#x4F7F;&#x7528;-tensorboard-&#x53EF;&#x89C6;&#x5316;&#x7ED3;&#x679C;" class="anchor-navigation-ex-anchor" href="#36-&#x4F7F;&#x7528;-tensorboard-&#x53EF;&#x89C6;&#x5316;&#x7ED3;&#x679C;"><i class="fa fa-link" aria-hidden="true"></i></a>1.14. 3.6 &#x4F7F;&#x7528; tensorboard &#x53EF;&#x89C6;&#x5316;&#x7ED3;&#x679C;</h2>
<p>&#x5728; yolov5 &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4F7F;&#x7528;&#xFF1A;</p>
<blockquote>
<p><code>tensorboard --logdir=runs</code></p>
</blockquote>
<p>&#x7136;&#x540E;&#x628A;&#x8FD4;&#x56DE;&#x7684; url &#x5730;&#x5740;&#x7C98;&#x8D34;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5373;&#x53EF;&#xFF01;&#x6211;&#x6D4B;&#x8BD5;&#x663E;&#x793A;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<br><img src="https://img-blog.csdnimg.cn/20200713142116699.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong><br>&#x5982;&#x679C;&#x8FD4;&#x56DE;<code>&#x62D2;&#x7EDD;&#x4E86;&#x6211;&#x4EEC;&#x7684;&#x8BF7;&#x6C42;</code>&#xFF0C;&#x53EF;&#x4EE5;&#x5728; tensorboard &#x7684;&#x540E;&#x9762;&#x52A0;&#x4E0A;&#x53C2;&#x6570;<code>--port ip</code>&#xFF1A;</p>
<blockquote>
<p><code>tensorboard --logdir=runs --host=192.168.0.134</code></p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20200713141721387.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="37-&#x6D4B;&#x8BD5;"><a name="37-&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#37-&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.15. 3.7 &#x6D4B;&#x8BD5;</h2>
<p>&#x6D4B;&#x8BD5;&#x7684;&#x66F4;&#x591A;&#x53EF;&#x9009;&#x53C2;&#x6570;&#xFF1A;</p>
<ul>
<li><code>--weights</code> &#xFF1A;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;<code>weights/yolov5s.pt</code></li>
<li><code>--data</code>&#xFF1A;&#x6570;&#x636E;&#x96C6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;<code>&#x9ED8;&#x8BA4;&#x4E3A;data/coco.yaml</code></li>
<li><code>--batch-size</code>&#xFF1A;<code>&#x9ED8;&#x8BA4;&#x503C;32</code></li>
<li><code>--img-size</code>&#xFF1A;&#x63A8;&#x7406;&#x5927;&#x5C0F;&#xFF08;<code>pixels</code>&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;<code>640</code></li>
<li><code>--conf-thres</code>&#xFF1A;&#x76EE;&#x6807;&#x7F6E;&#x4FE1;&#x5EA6;&#x9608;&#x503C;&#xFF0C;&#x9ED8;&#x8BA4;<code>0.001</code></li>
<li><code>--iou-thres</code>&#xFF1A;NMS &#x7684; IOU &#x9608;&#x503C;&#xFF0C;&#x9ED8;&#x8BA4;<code>0.65</code></li>
<li><code>--save-json</code>&#xFF1A;&#x628A;&#x7ED3;&#x679C;&#x4FDD;&#x5B58;&#x4E3A; cocoapi-compatible &#x7684; json &#x6587;&#x4EF6;</li>
<li><code>--task</code>&#xFF1A;&#x9ED8;&#x8BA4;<code>val</code>&#xFF0C;&#x53EF;&#x9009;&#x5176;&#x4ED6;&#x503C;&#xFF1A;<code>val, test, study</code></li>
<li><code>--device</code>&#xFF1A;cuda &#x8BBE;&#x5907;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;<code>0&#x6216;0,1,2,3&#x6216;cpu</code>&#xFF0C;<code>&#x9ED8;&#x8BA4;&apos;&apos;</code></li>
<li><code>--half</code>&#xFF1A;&#x534A;&#x7CBE;&#x5EA6;&#x7684; FP16 &#x63A8;&#x7406;</li>
<li><code>--single-cls</code>&#xFF1A;&#x5C06;&#x5176;&#x89C6;&#x4E3A;&#x5355;&#x7C7B;&#x522B;&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
<li><code>--augment</code>&#xFF1A;&#x589E;&#x5F3A;&#x63A8;&#x7406;&#xFF0C;&#x5E03;&#x5C14;&#x503C;</li>
<li><code>--verbose</code>&#xFF1A;&#x663E;&#x793A;<code>&#x7C7B;&#x522B;&#x7684;mAP</code>&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;</code></li>
</ul>
<p>&#x6D4B;&#x8BD5;&#x547D;&#x4EE4;&#x793A;&#x4F8B;&#xFF1A;</p>
<blockquote>
<p><code>python test.py --weights yolov5s.pt --data ./data/coco.yaml --img 640</code></p>
</blockquote>
<p>&#x6570;&#x636E;&#x51C6;&#x5907;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;</p>
<ul>
<li>&#x4E00;&#x79CD;&#x662F;&#x76F4;&#x63A5;&#x6307;&#x5B9A;&#x8BAD;&#x7EC3;&#x96C6;&#x548C;&#x6D4B;&#x8BD5;&#x96C6;&#x56FE;&#x7247;&#x7684;&#x8DEF;&#x5F84;&#xFF08;<code>&#x672C;&#x6587;&#x4F7F;&#x7528;&#x7684;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;</code>&#xFF09;</li>
<li>&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x662F;&#x7ED9;&#x51FA;&#x8BAD;&#x7EC3;&#x548C;&#x6D4B;&#x8BD5;&#x96C6;&#x56FE;&#x7247;&#x7684; txt &#x6587;&#x4EF6;</li>
</ul>
<h2 id="41-&#x51C6;&#x5907;&#x6570;&#x636E;&#x96C6;"><a name="41-&#x51C6;&#x5907;&#x6570;&#x636E;&#x96C6;" class="anchor-navigation-ex-anchor" href="#41-&#x51C6;&#x5907;&#x6570;&#x636E;&#x96C6;"><i class="fa fa-link" aria-hidden="true"></i></a>1.16. 4.1 &#x51C6;&#x5907;&#x6570;&#x636E;&#x96C6;</h2>
<p><code>yolov5</code>&#x4E2D;&#x7684;&#x6570;&#x636E;&#x96C6;&#x7684;&#x6807;&#x7B7E;&#x90FD;&#x662F;&#x4FDD;&#x5B58;&#x4E3A;<code>YOLO&#x683C;&#x5F0F;</code>&#x7684;<code>txt</code>&#x6587;&#x4EF6;&#x7684;&#xFF0C;&#x5173;&#x4E8E;&#xFF1A;</p>
<ul>
<li>&#x600E;&#x4E48;&#x6807;&#x6CE8;&#x6570;&#x636E;&#x96C6;</li>
<li>VOC &#x6570;&#x636E;&#x548C; YOLO &#x6570;&#x636E;&#x683C;&#x5F0F;&#x65F6;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;</li>
<li>&#x600E;&#x4E48;&#x628A; VOC &#x683C;&#x5F0F;&#x6570;&#x636E;&#x8F6C;&#x5316;&#x4E3A; YOLO &#x683C;&#x5F0F;&#x6570;&#x636E;</li>
<li>&#x4EE5;&#x53CA; VOC &#x683C;&#x5F0F;&#x548C; YOLO &#x683C;&#x5F0F;&#x76F8;&#x4E92;&#x8F6C;&#x5316;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;</li>
</ul>
<p>&#x8BF7;<code>&#x53C2;&#x8003;</code>&#xFF1A;<a href="https://shliang.blog.csdn.net/article/details/107175968" target="_blank">&#x8FD9;&#x7BC7;&#x535A;&#x5BA2;</a>&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x5728;&#x8D58;&#x8FF0;&#xFF01;&#xFF01;&#xFF01;</p>
<p>&#x6570;&#x636E;&#x96C6;&#x6807;&#x6CE8;&#x597D;&#x4E4B;&#x540E;&#xFF0C;&#x5B58;&#x653E;&#x5982;&#x4E0B;&#x76EE;&#x5F55;&#x683C;&#x5F0F;&#xFF1A;</p>
<pre><code>(yolov5) shl@zfcv:~/shl/yolov5$ tree hat_hair_beard
hat_hair_beard
&#x251C;&#x2500;&#x2500; images
&#x2502;   &#x251C;&#x2500;&#x2500; train2017        # &#x8BAD;&#x7EC3;&#x96C6;&#x56FE;&#x7247;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x53EA;&#x5217;&#x4E3E;&#x51E0;&#x5F20;&#x793A;&#x4F8B;
&#x2502;   &#x2502;   &#x251C;&#x2500;&#x2500; 000050.jpg
&#x2502;   &#x2502;   &#x251C;&#x2500;&#x2500; 000051.jpg
&#x2502;   &#x2502;   &#x2514;&#x2500;&#x2500; 000052.jpg
&#x2502;   &#x2514;&#x2500;&#x2500; val2017          # &#x9A8C;&#x8BC1;&#x96C6;&#x56FE;&#x7247;
&#x2502;       &#x251C;&#x2500;&#x2500; 001800.jpg
&#x2502;       &#x251C;&#x2500;&#x2500; 001801.jpg
&#x2502;       &#x2514;&#x2500;&#x2500; 001802.jpg
&#x2514;&#x2500;&#x2500; labels               
    &#x251C;&#x2500;&#x2500; train2017       # &#x8BAD;&#x7EC3;&#x96C6;&#x7684;&#x6807;&#x7B7E;&#x6587;&#x4EF6;
    &#x2502;   &#x251C;&#x2500;&#x2500; 000050.txt
    &#x2502;   &#x251C;&#x2500;&#x2500; 000051.txt
    &#x2502;   &#x2514;&#x2500;&#x2500; 000052.txt
    &#x2514;&#x2500;&#x2500; val2017         # &#x9A8C;&#x8BC1;&#x96C6;&#x7684;&#x6807;&#x7B7E;&#x6587;&#x4EF6;
        &#x251C;&#x2500;&#x2500; 001800.txt
        &#x251C;&#x2500;&#x2500; 001801.txt
        &#x2514;&#x2500;&#x2500; 001802.txt

6 directories, 13 files
(yolov5) shl@zfcv:~/shl/yolov5$
</code></pre><ul>
<li>had_hair_beard&#xFF1A;&#x5B58;&#x653E;&#x6570;&#x636E;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x4F4D;&#x4E8E;<code>yolov5&#x76EE;&#x5F55;&#x4E0B;</code></li>
<li>images&#xFF1A;&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x653E;&#x7684;&#x662F;&#x56FE;&#x7247;&#xFF0C;&#x5305;&#x542B;&#x8BAD;&#x7EC3;&#x96C6;&#x548C;&#x9A8C;&#x8BC1;&#x96C6;&#x56FE;&#x7247;</li>
<li>labels&#xFF1A;&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x653E;&#x7684;&#x662F;&#x6807;&#x7B7E;&#x6587;&#x4EF6;&#xFF0C;&#x5305;&#x542B;&#x8BAD;&#x7EC3;&#x96C6;&#x548C;&#x9A8C;&#x8BC1;&#x96C6;&#x56FE;&#x7247;&#x5BF9;&#x5E94;&#x7684;&#x6807;&#x7B7E;&#x6587;&#x4EF6;</li>
</ul>
<p>&#x6309;&#x7167;&#x4E0A;&#x9762;&#x7684;&#x7ED3;&#x6784;&#x7EC4;&#x7EC7;&#x597D;<code>&#x6570;&#x636E;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;</code>&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4E00;&#x4E9B;&#x8BAD;&#x7EC3;&#x76F8;&#x5173;&#x7684;&#x6587;&#x4EF6;&#x4E86;&#xFF01;</p>
<h2 id="42-&#x4FEE;&#x6539;&#x6570;&#x636E;&#x548C;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a name="42-&#x4FEE;&#x6539;&#x6570;&#x636E;&#x548C;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#42-&#x4FEE;&#x6539;&#x6570;&#x636E;&#x548C;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>1.17. 4.2 &#x4FEE;&#x6539;&#x6570;&#x636E;&#x548C;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h2>
<h3 id="421-&#x4FEE;&#x6539;&#x6570;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a name="421-&#x4FEE;&#x6539;&#x6570;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#421-&#x4FEE;&#x6539;&#x6570;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>1.17.1. 4.2.1 &#x4FEE;&#x6539;&#x6570;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3>
<p>&#x539F;&#x5148;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E3A;&#xFF1A;<code>./yolov5/data/coco128.yaml</code>&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x4E2D;&#x5185;&#x5BB9;&#x4E3A;&#xFF1A;</p>
<pre><code>(yolov5) shl@zfcv:~/shl/yolov5/data$ ls
Annotations   coco.yaml        hat_hair_beard.yaml  JPEGImages
coco128.yaml  get_coco2017.sh  ImageSets            VOC2007
(yolov5) shl@zfcv:~/shl/yolov5/data$ cat coco128.yaml
# COCO 2017 dataset http://cocodataset.org - first 128 training images
# Download command:  python -c &quot;from yolov5.utils.google_utils import gdrive_download; gdrive_download(&apos;1n_oKgR81BJtqk75b00eAjdv03qVCQn2f&apos;,&apos;coco128.zip&apos;)&quot;
# Train command: python train.py --data ./data/coco128.yaml
# Dataset should be placed next to yolov5 folder:
#   /parent_folder
#     /coco128
#     /yolov5


# train and val datasets (image directory or *.txt file with image paths)
train: ../coco128/images/train2017/
val: ../coco128/images/train2017/

# number of classes
nc: 80

# class names
names: [&apos;person&apos;, &apos;bicycle&apos;, &apos;car&apos;, &apos;motorcycle&apos;, &apos;airplane&apos;, &apos;bus&apos;, &apos;train&apos;, &apos;truck&apos;, &apos;boat&apos;, &apos;traffic light&apos;,
        &apos;fire hydrant&apos;, &apos;stop sign&apos;, &apos;parking meter&apos;, &apos;bench&apos;, &apos;bird&apos;, &apos;cat&apos;, &apos;dog&apos;, &apos;horse&apos;, &apos;sheep&apos;, &apos;cow&apos;,
        &apos;elephant&apos;, &apos;bear&apos;, &apos;zebra&apos;, &apos;giraffe&apos;, &apos;backpack&apos;, &apos;umbrella&apos;, &apos;handbag&apos;, &apos;tie&apos;, &apos;suitcase&apos;, &apos;frisbee&apos;,
        &apos;skis&apos;, &apos;snowboard&apos;, &apos;sports ball&apos;, &apos;kite&apos;, &apos;baseball bat&apos;, &apos;baseball glove&apos;, &apos;skateboard&apos;, &apos;surfboard&apos;,
        &apos;tennis racket&apos;, &apos;bottle&apos;, &apos;wine glass&apos;, &apos;cup&apos;, &apos;fork&apos;, &apos;knife&apos;, &apos;spoon&apos;, &apos;bowl&apos;, &apos;banana&apos;, &apos;apple&apos;,
        &apos;sandwich&apos;, &apos;orange&apos;, &apos;broccoli&apos;, &apos;carrot&apos;, &apos;hot dog&apos;, &apos;pizza&apos;, &apos;donut&apos;, &apos;cake&apos;, &apos;chair&apos;, &apos;couch&apos;,
        &apos;potted plant&apos;, &apos;bed&apos;, &apos;dining table&apos;, &apos;toilet&apos;, &apos;tv&apos;, &apos;laptop&apos;, &apos;mouse&apos;, &apos;remote&apos;, &apos;keyboard&apos;, &apos;cell phone&apos;,
        &apos;microwave&apos;, &apos;oven&apos;, &apos;toaster&apos;, &apos;sink&apos;, &apos;refrigerator&apos;, &apos;book&apos;, &apos;clock&apos;, &apos;vase&apos;, &apos;scissors&apos;, &apos;teddy bear&apos;,
        &apos;hair drier&apos;, &apos;toothbrush&apos;](yolov5) shl@zfcv:~/shl/yolov5/data$
</code></pre><p>&#x6211;&#x4EEC;&#x628A;&#x8BE5;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x4E00;&#x4EFD;&#xFF08;&#x8FD9;&#x662F;&#x6211;&#x4E2A;&#x4EBA;&#x7684;&#x4E60;&#x60EF;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x6539;&#xFF0C;&#x76F4;&#x63A5;&#x5728; coco128.yaml &#x6587;&#x4EF6;&#x4E2D;&#x8FDB;&#x4FEE;&#x6539;&#xFF09;</p>
<blockquote>
<p><code>cp coco128.yaml hat_hair_beard.yaml</code></p>
</blockquote>
<p>&#x7136;&#x540E;&#x5728;<code>hat_hair_beard.yaml</code>&#x4E2D;&#x9700;&#x8981;&#x4FEE;&#x6539;<code>3&#x5904;&#x5185;&#x5BB9;</code>&#xFF1A;</p>
<p>1&#x3001;<code>&#x8BAD;&#x7EC3;&#x96C6;&#x548C;&#x9A8C;&#x8BC1;&#x96C6;&#x56FE;&#x7247;&#x7684;&#x8DEF;&#x5F84;</code></p>
<pre><code>train: /home/shl/shl/yolov5/hat_hair_beard/images/train2017
val: /home/shl/shl/yolov5/hat_hair_beard/images/val2017
</code></pre><p><strong><code>&#x6CE8;&#x610F;&#xFF1A;</code></strong></p>
<blockquote>
<p><code>&#x6700;&#x597D;&#x7528;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x6211;&#x5728;&#x4F7F;&#x7528;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x7684;&#x65F6;&#x5019;&#x62A5;&#x9519;&#xFF0C;&#x8BF4;&#x8DEF;&#x5F84;&#x5B58;&#x5728;</code></p>
</blockquote>
<p>2&#x3001;&#x4FEE;&#x6539;<code>&#x7C7B;&#x522B;&#x6570;nc</code></p>
<blockquote>
<p><code>nc=7</code> #&#x6211;&#x6570;&#x636E;&#x96C6;&#x4E00;&#x5171;&#x5206; 7 &#x4E2A;&#x7C7B;&#x522B;</p>
</blockquote>
<p>3&#x3001;&#x4FEE;&#x6539;&#x7C7B;&#x522B;&#x5217;&#x8868;&#xFF0C;&#x628A;&#x7C7B;&#x522B;&#x4FEE;&#x6539;&#x4E3A;&#x81EA;&#x5DF1;&#x7684;&#x7C7B;&#x522B;</p>
<blockquote>
<p><code>names: [&apos;hard_hat&apos;, &apos;other&apos;, &apos;regular&apos;, &apos;long_hair&apos;, &apos;braid&apos;, &apos;bald&apos;, &apos;beard&apos;]</code></p>
</blockquote>
<p>&#x4FEE;&#x6539;&#x540E;&#x7684;<code>hat_hair_beard.yaml</code>&#x5B8C;&#x6574;&#x914D;&#x7F6E;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code># COCO 2017 dataset http://cocodataset.org - first 128 training images
# Download command:  python -c &quot;from yolov5.utils.google_utils import gdrive_download; gdrive_download(&apos;1n_oKgR81BJtqk75b00eAjdv03qVCQn2f&apos;,&apos;coco128.zip&apos;)&quot;
# Train command: python train.py --data ./data/coco128.yaml
# Dataset should be placed next to yolov5 folder:
#   /parent_folder
#     /coco128
#     /yolov5


# train and val datasets (image directory or *.txt file with image paths)
#train: ../my_dataset/hat_hair_beard/images/train2017/
#val: ../my_dataset/hat_hair_beard/images/train2017/

#train: ../hat_hair_beard/images/train2017
train: /home/shl/shl/yolov5/hat_hair_beard/images/train2017
#val: ../hat_hair_beard/images/val2017
val: /home/shl/shl/yolov5/hat_hair_beard/images/val2017


# number of classes
nc: 7

# class names
names: [&apos;hard_hat&apos;, &apos;other&apos;, &apos;regular&apos;, &apos;long_hair&apos;, &apos;braid&apos;, &apos;bald&apos;, &apos;beard&apos;]
</code></pre><h3 id="422-&#x4FEE;&#x6539;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a name="422-&#x4FEE;&#x6539;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#422-&#x4FEE;&#x6539;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>1.17.2. 4.2.2 &#x4FEE;&#x6539;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3>
<p>&#x4FEE;&#x6539;&#x6A21;&#x578B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;<code>yolov5/models/yolov5s.yaml&#x6A21;&#x578B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</code>&#xFF0C;&#x4E2A;&#x4EBA;&#x4E60;&#x60EF;&#x6211;&#x8FD8;&#x662F;&#x628A;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x4E00;&#x4EFD;&#xFF0C;&#x4E3A;&#xFF1A;<code>hat_hair_beard_yolov5s.yaml</code>&#xFF08;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x6539;&#xFF0C;&#x76F4;&#x63A5;&#x5728; yolov5.yaml &#x4E2D;&#x4FEE;&#x6539;&#xFF09;<br><img src="https://img-blog.csdnimg.cn/20200804151815737.png" alt=""><br><code>yolov5s.yaml</code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x539F;&#x5185;&#x5BB9;&#x4E3A;&#xFF1A;</p>
<pre><code>(yolov5) shl@zfcv:~/shl/yolov5/models$ cat yolov5s.yaml
# parameters
nc: 80  # number of classes
depth_multiple: 0.33  # model depth multiple
width_multiple: 0.50  # layer channel multiple

# anchors
anchors:
  - [10,13, 16,30, 33,23]  # P3/8
  - [30,61, 62,45, 59,119]  # P4/16
  - [116,90, 156,198, 373,326]  # P5/32

# yolov5 backbone
backbone:
  # [from, number, module, args]
  [[-1, 1, Focus, [64, 3]],  # 1-P1/2
   [-1, 1, Conv, [128, 3, 2]],  # 2-P2/4
   [-1, 3, Bottleneck, [128]],
   [-1, 1, Conv, [256, 3, 2]],  # 4-P3/8
   [-1, 9, BottleneckCSP, [256]],
   [-1, 1, Conv, [512, 3, 2]],  # 6-P4/16
   [-1, 9, BottleneckCSP, [512]],
   [-1, 1, Conv, [1024, 3, 2]], # 8-P5/32
   [-1, 1, SPP, [1024, [5, 9, 13]]],
   [-1, 6, BottleneckCSP, [1024]],  # 10
  ]

# yolov5 head
head:
  [[-1, 3, BottleneckCSP, [1024, False]],  # 11
   [-1, 1, nn.Conv2d, [na * (nc + 5), 1, 1]],  # 12 (P5/32-large)

   [-2, 1, nn.Upsample, [None, 2, &apos;nearest&apos;]],
   [[-1, 6], 1, Concat, [1]],  # cat backbone P4
   [-1, 1, Conv, [512, 1, 1]],
   [-1, 3, BottleneckCSP, [512, False]],
   [-1, 1, nn.Conv2d, [na * (nc + 5), 1, 1]],  # 17 (P4/16-medium)

   [-2, 1, nn.Upsample, [None, 2, &apos;nearest&apos;]],
   [[-1, 4], 1, Concat, [1]],  # cat backbone P3
   [-1, 1, Conv, [256, 1, 1]],
   [-1, 3, BottleneckCSP, [256, False]],
   [-1, 1, nn.Conv2d, [na * (nc + 5), 1, 1]],  # 22 (P3/8-small)

   [[], 1, Detect, [nc, anchors]],  # Detect(P3, P4, P5)
  ]
(yolov5) shl@zfcv:~/shl/yolov5/models$
</code></pre><p>&#x56E0;&#x6B64;&#xFF0C;&#x5728;<code>hat_hair_beard.yaml</code>&#x4E2D;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539;<code>&#x4E00;&#x5904;</code>&#xFF0C;&#x628A;<code>nc</code>&#x4FEE;&#x6539;&#x4E3A;&#x81EA;&#x5DF1;&#x7684;<code>&#x7C7B;&#x522B;&#x6570;</code>&#x5373;&#x53EF;</p>
<blockquote>
<p><code>nc : 7</code></p>
</blockquote>
<p>&#x4E0A;&#x9762;<code>&#x6570;&#x636E;&#x7684;&#x51C6;&#x5907;</code>&#x548C;<code>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4FEE;&#x6539;</code>&#x5168;&#x90E8;&#x51C6;&#x5907;&#x597D;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;<code>&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;&#x4E86;&#xFF01;&#xFF01;&#xFF01;</code></p>
<h2 id="43-&#x8BAD;&#x7EC3;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x96C6;"><a name="43-&#x8BAD;&#x7EC3;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x96C6;" class="anchor-navigation-ex-anchor" href="#43-&#x8BAD;&#x7EC3;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x96C6;"><i class="fa fa-link" aria-hidden="true"></i></a>1.18. 4.3 &#x8BAD;&#x7EC3;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x96C6;</h2>
<h2 id="431-&#x4F7F;&#x7528;-yolovspt-&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;"><a name="431-&#x4F7F;&#x7528;-yolovspt-&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;" class="anchor-navigation-ex-anchor" href="#431-&#x4F7F;&#x7528;-yolovspt-&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;"><i class="fa fa-link" aria-hidden="true"></i></a>1.19. 4.3.1 &#x4F7F;&#x7528; yolovs.pt &#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;</h2>
<p>&#x8BAD;&#x7EC3;&#x547D;&#x4EE4;&#xFF1A;</p>
<blockquote>
<p><code>python train.py --img 640 --batch 16 --epochs 300 --data ./data/hat_hair_beard.yaml --cfg ./models/hat_hair_beard_yolov5s.yaml --weights ./weights/yolov5s.pt --device 1</code></p>
</blockquote>
<p>&#x5173;&#x4E8E;&#x53C2;&#x6570;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x4E0A;&#x9762;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;</p>
<p><code>&#x6B63;&#x5E38;&#x8BAD;&#x7EC3;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;</code><br><img src="https://img-blog.csdnimg.cn/20200804152842481.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>&#x8BAD;&#x7EC3;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x4F1A;&#x751F;&#x6210;&#x4E24;&#x4E2A;&#x9884;&#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#xFF1A;</p>
<ul>
<li><code>best.pt</code>&#xFF1A;&#x4FDD;&#x5B58;&#x7684;&#x662F;&#x4E2D;&#x95F4;&#x4E00;&#x5171;&#x6BD4;&#x8F83;&#x597D;&#x6A21;&#x578B;</li>
<li><code>last.pt</code>&#xFF1A;&#x8BAD;&#x7EC3;&#x7ED3;&#x675F;&#x540E;&#x4FDD;&#x5B58;&#x7684;&#x6700;&#x540E;&#x6A21;&#x578B;</li>
</ul>
<p>&#x6211;&#x628A;&#x6700;&#x7EC8;&#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#x4FDD;&#x5B58;&#x62F7;&#x8D1D;&#x4E00;&#x4EFD;&#xFF0C;&#x9632;&#x6B62;&#x4E0B;&#x8F7D;&#x518D;&#x8BAD;&#x7EC3;&#x7ED9;&#x8986;&#x76D6;&#xFF0C;&#x767D;&#x767D;&#x8BAD;&#x7EC3;&#xFF01;<br><img src="https://img-blog.csdnimg.cn/20200804161744569.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><strong><code>&#x6CE8;&#x610F;&#xFF1A;</code></strong></p>
<p>&#x5F53;&#x4F7F;&#x7528;<code>--device</code>&#x53C2;&#x6570;&#x8BBE;&#x7F6E;<code>&#x591A;GPU&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#x65F6;</code>&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;&#x9519;&#xFF1A;<code>RuntimeError: Model replicas must have an equal number of parameters.</code> &#x5177;&#x4F53;&#x9519;&#x8BEF;&#x5982;&#x4E0B;&#x56FE;&#xFF0C;&#x4F1A;&#x62A5;&#x9519;&#x7684;&#x547D;&#x4EE4;&#xFF1A;</p>
<ul>
<li><code>--device 1</code>&#xFF1A;&#x6307;&#x5B9A;&#x5355;&#x4E2A; GPU &#x4E0D;&#x4F1A;&#x62A5;&#x9519;</li>
<li><code>--device 1,2,3</code>&#xFF1A;&#x5F53;&#x4F7F;&#x7528;&#x4E24;&#x4E2A;&#x4EE5;&#x4E0A;&#x7684; GPU &#x4F1A;&#x62A5;&#x9519;</li>
<li>&#x5B98;&#x65B9;&#x7684; <a href="https://github.com/ultralytics/yolov5/issues/11" target="_blank">iusses &#x89E3;&#x51B3;&#x65B9;&#x5F0F;</a>&#xFF1A;&#x628A; torch &#x7684;&#x628A;&#x90A3;&#x672C;&#x66F4;&#x65B0;&#x4E3A;<code>torch1.4</code>&#xFF0C;&#x800C;&#x6211;&#x7684;<code>torch&#x4E3A;1.5&#x7248;&#x672C;</code></li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20200807163031539.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<h3 id="432-&#x4F7F;&#x7528;-yolov5lpt-&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;"><a name="432-&#x4F7F;&#x7528;-yolov5lpt-&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;" class="anchor-navigation-ex-anchor" href="#432-&#x4F7F;&#x7528;-yolov5lpt-&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;"><i class="fa fa-link" aria-hidden="true"></i></a>1.19.1. 4.3.2 &#x4F7F;&#x7528; yolov5l.pt &#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;</h3>
<p>&#x8FD9;&#x662F;&#x7528; yolov5l.pt &#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8BAD;&#x7EC3;&#x7684;&#x6548;&#x679C;<br><img src="https://img-blog.csdnimg.cn/20200824152053983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x4F7F;&#x7528;<code>yolov5l.pt&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;</code>&#xFF0C;&#x4FDD;&#x5B58;&#x7684;&#x6700;&#x7EC8;&#x6A21;&#x578B;&#x548C;&#x6700;&#x4F18;&#x6A21;&#x578B;&#x90FD;&#x6BD4;&#x8F83;&#x5927;&#xFF1A;</p>
<ul>
<li><code>best.pt</code>&#xFF1A;382M</li>
<li><code>last.pt</code>&#xFF1A;192M</li>
</ul>
<h2 id="44-&#x4F7F;&#x7528;&#x8BAD;&#x7EC3;&#x597D;&#x7684;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;"><a name="44-&#x4F7F;&#x7528;&#x8BAD;&#x7EC3;&#x597D;&#x7684;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#44-&#x4F7F;&#x7528;&#x8BAD;&#x7EC3;&#x597D;&#x7684;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.20. 4.4 &#x4F7F;&#x7528;&#x8BAD;&#x7EC3;&#x597D;&#x7684;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;</h2>
<p>1&#x3001;<code>&#x5355;&#x5F20;&#x56FE;&#x7247;</code>&#x6D4B;&#x8BD5;&#x547D;&#x4EE4;&#xFF1A;</p>
<blockquote>
<p><code>python detect.py --source inference/1_input/1_img/hat3.jpg --we ights ./weights/last_hat_hair_beard_20200804.pt --output inference/2_output/1_img/ --device 1</code></p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20200804162828345.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>&#x539F;&#x56FE;&#xFF1A;<br><img src="https://img-blog.csdnimg.cn/20200804162128458.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x56FE;&#xFF1A;<br><img src="https://img-blog.csdnimg.cn/20200804162112892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""><br>&#x4ECE;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x7F6E;&#x4FE1;&#x5EA6;&#x8FD8;&#x662F;&#x5F88;&#x9AD8;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x76EE;&#x6807;&#x90FD;&#x68C0;&#x6D4B;&#x5230;&#x4E86;&#xFF01;&#xFF08;&#x4FDD;&#x5B58;&#x7684;&#x7ED3;&#x679C;&#x56FE;&#x7247;&#xFF0C;&#x4F1A;&#x628A;&#x4E0A;&#x4E00;&#x6B64;&#x4FDD;&#x5B58;&#x7684;&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x56FE;&#x5220;&#x4E86;&#xFF0C;&#x6700;&#x7EC8;&#x53EA;&#x4FDD;&#x5B58;&#x6700;&#x540E;&#x4E00;&#x4FA7;&#x6D4B;&#x8BD5;&#x7684;&#x7ED3;&#x679C;&#x56FE;&#xFF09;</p>
<p>2&#x3001;&#x56FE;&#x7247;&#x76EE;&#x5F55;&#x6D4B;&#x8BD5;</p>
<blockquote>
<p><code>python detect.py --source inference/1_input/2_imgs_hat --weights ./weights/last_hat_hair_beard_20200804.pt --output inference/2_output/2_imgs_hat --device 1</code></p>
</blockquote>
<p>&#x4E0B;&#x9762;&#x662F;&#x6D4B;&#x8BD5;&#x56FE;&#x7247;&#x96C6;&#x7684;&#x6548;&#x679C;&#xFF1A;<br><img src="https://img-blog.csdnimg.cn/20200804163733574.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="45-&#x5728;-tensorbaord-&#x4E0A;&#x67E5;&#x770B;&#x6570;&#x636E;&#x7684;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x6307;&#x6807;"><a name="45-&#x5728;-tensorbaord-&#x4E0A;&#x67E5;&#x770B;&#x6570;&#x636E;&#x7684;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x6307;&#x6807;" class="anchor-navigation-ex-anchor" href="#45-&#x5728;-tensorbaord-&#x4E0A;&#x67E5;&#x770B;&#x6570;&#x636E;&#x7684;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x6307;&#x6807;"><i class="fa fa-link" aria-hidden="true"></i></a>1.21. 4.5 &#x5728; Tensorbaord &#x4E0A;&#x67E5;&#x770B;&#x6570;&#x636E;&#x7684;&#x8BAD;&#x7EC3;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x6307;&#x6807;</h2>
<p>&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x67E5;&#x770B;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x6307;&#x6807;&#x7684;&#x53EF;&#x89C6;&#x5316;&#x56FE;</p>
<blockquote>
<p><code>tensorbaord --logdir=runs</code></p>
</blockquote>
<p>1&#x3001;scalars<br><img src="https://img-blog.csdnimg.cn/20200831090514616.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<p>2&#x3001;images<br><img src="https://img-blog.csdnimg.cn/20200831090601144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p>
<p>&#x4F7F;&#x7528;&#x9884;&#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;&#xFF0C;<code>YOLOv5</code>&#x652F;&#x6301;&#x591A;&#x79CD;&#x6570;&#x636E;&#x6E90;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>&#x56FE;&#x50CF;</li>
<li>&#x76EE;&#x5F55;</li>
<li>&#x89C6;&#x9891;</li>
<li>&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;</li>
<li>http &#x6D41;</li>
<li>rtsp &#x6D41;</li>
</ul>
<p>&#x4F7F;&#x7528;<code>python detect.py</code>&#x8FDB;&#x884C;&#x63A8;&#x7406;&#xFF0C;&#x5173;&#x4E8E;&#x63A8;&#x7406;&#x7684;&#x66F4;&#x591A;&#x53C2;&#x6570;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x67E5;&#x770B;&#xFF1A;</p>
<blockquote>
<p><code>python detect.py -h</code></p>
</blockquote>
<ul>
<li><code>--weights</code> &#xFF1A;&#x9884;&#x8BAD;&#x7EC3;&#x6A21;&#x578B;<code>.pt</code>&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#xFF1A;<code>weights/yolov5s.pt</code></li>
<li><code>--source</code>&#xFF1A;&#x8F93;&#x5165;&#x7684;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#xFF1A;<code>&#x56FE;&#x7247;&#x3001;&#x76EE;&#x5F55;&#x3001;&#x89C6;&#x9891;&#x3001;&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x3001;http&#x548C;rtsp&#x6D41;</code>&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#xFF1A;<code>interence/images</code></li>
<li><code>--output</code>&#xFF1A; &#x8F93;&#x51FA;&#x68C0;&#x6D4B;&#x7ED3;&#x679C;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#xFF1A;<code>inference/output</code></li>
<li><code>--img-size</code> &#xFF1A;&#x7528;&#x4E8E;&#x63A8;&#x7406;&#x56FE;&#x7247;&#x7684;&#x5927;&#x5C0F;&#xFF08;<code>pixels</code>&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#xFF1A;<code>640</code></li>
<li><code>--conf-thres</code>&#xFF1A;&#x5BF9;&#x8C61;&#x7684;<code>&#x7F6E;&#x4FE1;&#x5EA6;&#x9608;&#x503C;</code>&#xFF08;object confidence threshold&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#xFF1A;<code>0.4</code></li>
<li><code>--iou-thres</code> &#xFF1A;NMS &#x7684; IOU &#x9608;&#x503C;&#xFF08; IOU threshold for NMS&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;&#xFF1A;<code>0.5</code></li>
<li><code>--fourcc</code>&#xFF1A;&#x8F93;&#x51FA;&#x89C6;&#x9891;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#xFF08;&#x5FC5;&#x987B;&#x662F; ffmepeg &#x652F;&#x6301;&#x7684;&#xFF09;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;<code>H264</code>&#x683C;&#x5F0F;&#xFF0C;&#x9ED8;&#x8BA4;&#x683C;&#x5F0F;&#x4E3A;&#xFF1A;<code>mp4v</code></li>
<li><code>--half</code>&#xFF1A; &#x4F7F;&#x7528;&#x7248;&#x7CBE;&#x5EA6;<code>F16</code>&#x63A8;&#x7406;&#xFF08;half precision FP16 inference&#xFF09;&#xFF0C;<code>&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true</code></li>
<li><code>--device</code>&#xFF1A;cuda &#x8BBE;&#x5907;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;<code>0&#x6216;0,1,2,3&#x6216;cpu</code>&#xFF0C;<code>&#x9ED8;&#x8BA4;&apos;&apos;</code></li>
<li><code>--view-img</code> &#xFF1A;&#x663E;&#x793A;&#x7ED3;&#x679C;&#xFF0C;&#x2018;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; true&#x2019;</li>
<li><code>--save-txt</code> &#xFF1A;&#x628A;&#x7ED3;&#x679C;&#x4FDD;&#x5B58;&#x5230;<code>*.txt</code>&#x6587;&#x4EF6;&#x4E2D;</li>
<li><code>--classes</code>&#xFF1A;&#x8FC7;&#x6EE4;&#x7C7B;&#x522B; CLASSES [CLASSES &#x2026;]&#xFF0C;filter by class</li>
<li><code>--agnostic-nms</code>&#xFF1A;&#x7C7B;&#x4E0D;&#x53EF;&#x77E5; NMS</li>
<li><code>--augment</code>&#xFF1A;&#x589E;&#x5F3A;&#x63A8;&#x7406;&#xFF08;augmented inference&#xFF09;</li>
</ul>
<p>&#x6211;&#x628A;&#x81EA;&#x5DF1;&#x7684;&#x63A8;&#x7406;&#x7684;&#x8F93;&#x51FA;&#x548C;&#x8F93;&#x5165;&#x7EC4;&#x7EC7;&#x6210;&#x5982;&#x4E0B;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#xFF1A;</p>
<pre><code>(yolov5) shl@zfcv:~/shl/yolov5/inference$ tree -L 2
.
&#x251C;&#x2500;&#x2500; 1_input   # &#x8F93;&#x5165;
&#x2502;   &#x251C;&#x2500;&#x2500; 1_img
&#x2502;   &#x251C;&#x2500;&#x2500; 2_imgs
&#x2502;   &#x251C;&#x2500;&#x2500; 3_video
&#x2502;   &#x251C;&#x2500;&#x2500; 4_Webcam
&#x2502;   &#x251C;&#x2500;&#x2500; 5_http 
&#x2502;   &#x2514;&#x2500;&#x2500; 6_rtsp
&#x2514;&#x2500;&#x2500; 2_output  # &#x8F93;&#x51FA;
    &#x251C;&#x2500;&#x2500; 1_img
    &#x251C;&#x2500;&#x2500; 2_imgs
    &#x251C;&#x2500;&#x2500; 3_video
    &#x251C;&#x2500;&#x2500; 4_Webcam
    &#x251C;&#x2500;&#x2500; 5_http
    &#x2514;&#x2500;&#x2500; 6_rtsp
</code></pre><h2 id="51-&#x56FE;&#x50CF;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><a name="51-&#x56FE;&#x50CF;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#51-&#x56FE;&#x50CF;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.22. 5.1 &#x56FE;&#x50CF;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</h2>
<p>1&#x3001;&#x63A8;&#x7406;&#x56FE;&#x7247;&#x547D;&#x4EE4;</p>
<blockquote>
<p><code>python detect.py --source inference/1_input/1_img/bus.jpg --weights ./weights/yolov5s.pt --output inference/2_output/1_img/</code></p>
</blockquote>
<p>&#x76F4;&#x63A5;&#x6307;&#x5B9A;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4FDD;&#x5B58;&#x7684;&#x76EE;&#x5F55;&#x5373;&#x53EF;&#xFF0C;&#x4FDD;&#x5B58;&#x540D;&#x5B57;&#x548C;&#x8F93;&#x5165;&#x56FE;&#x7247;&#x547D;&#x4EE4;&#x76F8;&#x540C;&#xFF01;<br><img src="https://img-blog.csdnimg.cn/20200713165004830.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""><br>2&#x3001;&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x5982;&#x4E0B;</p>
<p>&#x6D4B;&#x8BD5;&#x56FE;&#x7247;&#xFF1A;<br><img src="https://img-blog.csdnimg.cn/20200713165516551.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""><br>&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#xFF1A;<br><img src="https://img-blog.csdnimg.cn/20200713165458327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="52-&#x76EE;&#x5F55;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><a name="52-&#x76EE;&#x5F55;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#52-&#x76EE;&#x5F55;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.23. 5.2 &#x76EE;&#x5F55;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</h2>
<p>1&#x3001;&#x63A8;&#x7406;&#x76EE;&#x5F55;&#x4E0B;&#x56FE;&#x7247;&#x96C6;&#x547D;&#x4EE4;</p>
<blockquote>
<p><code>python detect.py --source inference/1_input/2_imgs --weights ./weights/yolov5s.pt --output inference/2_output/2_imgs</code></p>
</blockquote>
<p>2&#x3001;&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x5982;&#x4E0B;<br><img src="https://img-blog.csdnimg.cn/20200714094205879.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>&#x5982;&#x679C;&#x68C0;&#x6D4B;&#x4E2D;&#x6709;&#x4E9B;&#x56FE;&#x7247;&#x7F6E;&#x4FE1;&#x5EA6;&#x6BD4;&#x8F83;&#x4F4E;&#x7684;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>--conf-thres</code>&#x53C2;&#x6570;&#x8FC7;&#x6EE4;&#x6389;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<blockquote>
<p><code>python detect.py --source inference/1_input/2_imgs --weights ./weights/yolov5s.pt --output inference/2_output/2_imgs --conf-thres 0.8</code></p>
</blockquote>
<p>&#x9ED8;&#x8BA4;<code>--conf-thres&#x7684;&#x503C;&#x4E3A;0.4</code>&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x628A;&#x7F6E;&#x4FE1;&#x5EA6;&#x7684;&#x9608;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A;<code>0.8</code>&#xFF0C;&#x6B64;&#x65F6;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x8FD9;&#x56FE;&#x4E2D;&#x5C31;<code>&#x770B;&#x4E0D;&#x5230;</code>&#x68C0;&#x6D4B;&#x76EE;&#x6807;&#x7684;&#x6846;&#xFF01;<br><img src="https://img-blog.csdnimg.cn/20200714094826898.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="53-&#x89C6;&#x9891;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><a name="53-&#x89C6;&#x9891;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#53-&#x89C6;&#x9891;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.24. 5.3 &#x89C6;&#x9891;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</h2>
<p>1&#x3001;&#x63A8;&#x7406;&#x89C6;&#x9891;&#x547D;&#x4EE4;</p>
<blockquote>
<p><code>python detect.py --source test.mp4 --weights ./weights/yolov5s.pt --output test_result/3_video</code></p>
</blockquote>
<p>&#x5982;&#x679C;&#x60F3;&#x6307;&#x5B9A;&#x8F93;&#x51FA;&#x89C6;&#x9891;&#x7684;<code>fourcc&#x683C;&#x5F0F;</code>&#xFF0C;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;</p>
<blockquote>
<p><code>python detect.py --source test.mp4 --weights ./weights/yolov5s.pt --output test_result/3_video --fourcc H264</code></p>
</blockquote>
<p>&#x5173;&#x4E8E;<code>ffmeg</code>&#x652F;&#x6301;&#x7684;<code>fourcc</code>&#x683C;&#x5F0F;&#xFF08;<a href="https://blog.csdn.net/u013943420/article/details/78779197" target="_blank">&#x53C2;&#x8003;</a>&#xFF09;&#xFF0C;&#x6CE8;&#x610F;&#xFF1A;<code>&#x89C6;&#x9891;&#x7684;&#x683C;&#x5F0F;&#x5FC5;&#x987B;&#x65F6;&#x56DB;&#x4E2A;&#x5B57;&#x7B26;&#x957F;&#x5EA6;</code></p>
<p>2&#x3001;&#x63A8;&#x7406;&#x89C6;&#x9891;&#x7ED3;&#x679C;</p>
<p>&#x672C;&#x6765;&#x6211;&#x662F;&#x60F3;&#x4E0A;&#x4F20;&#x89C6;&#x9891;&#x7684;&#xFF0C;&#x4F46;&#x662F;<code>CSDN</code>&#x76EE;&#x524D;&#x53EA;&#x652F;&#x6301;<code>&#x817E;&#x8BAF;</code>&#x3001;<code>&#x4F18;&#x9177;</code>&#x3001;<code>&#x54D4;&#x54E9;&#x54D4;&#x54E9;</code>&#xFF0C;&#x6CA1;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x89C6;&#x9891;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5982;&#x679C;&#x4E0A;&#x4F20;&#x8FD8;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x5BA1;&#x6838;&#xFF0C;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x6211;&#x6211;&#x5C31;&#x76F4;&#x63A5;&#x653E;&#x4E2A; gif &#x52A8;&#x56FE;&#xFF0C;&#x5927;&#x5BB6;&#x7B80;&#x5355;&#x770B;&#x4E0B;&#x6548;&#x679C;&#x5427;&#xFF0C;&#x53C8;&#x7531;&#x4E8E;<code>CSDN&#x9650;&#x5236;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x5C0F;&#x4E8E;5M</code>&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x80FD;&#x622A;&#x53D6;&#x4E0D;&#x5230; 1 &#x79D2;&#xFF08;&#x6CEA;&#x5954;&#xFF0C;&#x6211;&#x4E0D;&#x60F3;&#x518D;&#x53BB;&#x538B;&#x7F29;&#x4E00;&#x4E0B;&#xFF0C;&#x8D39;&#x52B2;&#xFF09;&#xFF1A;<br><img src="https://img-blog.csdnimg.cn/20200713163142126.gif" alt=""></p>
<h2 id="54-&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><a name="54-&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#54-&#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.25. 5.4 &#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</h2>
<h2 id="55-http-&#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><a name="55-http-&#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#55-http-&#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.26. 5.5 http &#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</h2>
<h2 id="56-rtsp-&#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><a name="56-rtsp-&#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#56-rtsp-&#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.27. 5.6 rtsp &#x6D41;&#x63A8;&#x7406;&#x6D4B;&#x8BD5;</h2>
<p>&#x63A8;&#x7406;&#x6D4B;&#x8BD5;&#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code># &#x793A;&#x4F8B;&#x8BED;&#x6CD5;&#xFF08;&#x4E0D;&#x8981;&#x8FD0;&#x884C;&#x6B64;&#x5355;&#x5143;&#x683C;&#xFF09;
python detect.py --source ./file.jpg  # &#x56FE;&#x7247; 
                          ./file.mp4  # &#x89C6;&#x9891;
                          ./dir  # &#x76EE;&#x5F55;
                          0  # &#x7F51;&#x7EDC;&#x6444;&#x50CF;&#x5934;
      &apos;rtsp://170.93.143.139/rtplive/470011e600ef003a004ee33696235daa&apos; # rtsp&#x6D41;
      &apos;http://112.50.243.8/PLTV/88888888/224/3221225900/1.m3u8&apos;  # http&#x6D41;
</code></pre><h2 id="61-&#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#x7684;&#x6D4B;&#x8BD5;&#x8868;&#x73B0;&#x53EF;&#x89C6;&#x5316;"><a name="61-&#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#x7684;&#x6D4B;&#x8BD5;&#x8868;&#x73B0;&#x53EF;&#x89C6;&#x5316;" class="anchor-navigation-ex-anchor" href="#61-&#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#x7684;&#x6D4B;&#x8BD5;&#x8868;&#x73B0;&#x53EF;&#x89C6;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>1.28. 6.1 &#x8BAD;&#x7EC3;&#x7684;&#x6A21;&#x578B;&#x7684;&#x6D4B;&#x8BD5;&#x8868;&#x73B0;&#x53EF;&#x89C6;&#x5316;</h2>
<p>1&#x3001;&#x8BAD;&#x7EC3;&#x5F00;&#x59CB;&#x540E;&#xFF0C;&#x6D4F;&#x89C8;<code>train*.jpg</code>&#x56FE;&#x50CF;&#x67E5;&#x770B;&#x8BAD;&#x7EC3;&#x7684;&#x56FE;&#x7247;&#xFF08;training images&#xFF09;&#x3001;&#x6807;&#x7B7E;&#xFF08;labels&#xFF09;&#x548C;&#x6570;&#x636E;&#x589E;&#x5F3A;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x6CE8;&#x610F;&#xFF1A;<code>mosaic</code>&#x6570;&#x636E;&#x589E;&#x5F3A;&#x7684;&#x6570;&#x636E;&#x7528;&#x4E8E;&#x8BAD;&#x7EC3;&#xFF08;&#x589E;&#x5F3A;&#x56FE;&#x7247;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF09;&#xFF0C;&#x8FD9;&#x662F;&#x7531;<code>UItralytics</code>&#x5728;<code>YOLOv4</code>&#x4E2D;&#x521B;&#x5EFA;&#x7684;&#x4E00;&#x79CD;&#x56FE;&#x50CF;&#x6570;&#x636E;&#x589E;&#x5F3A;&#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x4F60;&#x53D1;&#x73B0;&#x4F60;&#x6807;&#x6CE8;&#x7684;&#x6807;&#x7B7E;&#x6709;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x4F60;&#x5E94;&#x8BE5;&#x56DE;&#x53BB;&#x91CD;&#x65B0;&#x6807;&#x6CE8;&#xFF01;</p>
<blockquote>
<p><code>Image(filename=&apos;./train_batch1.jpg&apos;, width=900)</code> # view augmented training mosaics</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20200710160728978.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>2&#x3001;&#x7B2C;&#x4E00;&#x4E2A; epoch &#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x67E5;&#x770B;<code>test_batch0_gt.jpg</code>&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6D4B;&#x8BD5;<code>batch 0 ground truth</code>&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<blockquote>
<p><code>Image(filename=&apos;./test_batch0_gt.jpg&apos;, width=900)</code> # view test image labels</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20200710161000567.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>3&#x3001;&#x901A;&#x8FC7;&#x67E5;&#x770B;<code>test_batch0_pred.jpg</code>&#x6765;&#x67E5;&#x770B;<code>test batch 0 predictions</code>&#xFF0C;&#x7ED3;&#x679C;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<blockquote>
<p><code>Image(filename=&apos;./test_batch0_pred.jpg&apos;, width=900)</code> # view test image predictions</p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20200710161238143.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="62-&#x8BAD;&#x7EC3;&#x635F;&#x5931;&#x548C;&#x6027;&#x80FD;&#x6307;&#x6807;&#x89C6;&#x5316;"><a name="62-&#x8BAD;&#x7EC3;&#x635F;&#x5931;&#x548C;&#x6027;&#x80FD;&#x6307;&#x6807;&#x89C6;&#x5316;" class="anchor-navigation-ex-anchor" href="#62-&#x8BAD;&#x7EC3;&#x635F;&#x5931;&#x548C;&#x6027;&#x80FD;&#x6307;&#x6807;&#x89C6;&#x5316;"><i class="fa fa-link" aria-hidden="true"></i></a>1.29. 6.2 &#x8BAD;&#x7EC3;&#x635F;&#x5931;&#x548C;&#x6027;&#x80FD;&#x6307;&#x6807;&#x89C6;&#x5316;</h2>
<p>&#x8BAD;&#x7EC3;&#x635F;&#x5931;&#xFF08;training losses&#xFF09;&#x548C;&#x6027;&#x80FD;&#x6307;&#x6807;&#xFF08;performance metrrics&#xFF09;&#x88AB;&#x4FDD;&#x5B58;&#x5230;<code>Tensorboard</code>&#x548C;<code>results.txt</code>&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D;&#x3002;<code>result.txt</code>&#x7ED8;&#x5236;&#x8BAD;&#x7EC3;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x4FDD;&#x5B58;&#x4E3A;<code>result.png</code>&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x7ED8;&#x5236;&#x90E8;&#x5206;&#x5B8C;&#x6210;&#x7684;<code>results.txt</code></p>
<pre><code>from utils.utils import plot_results; plot_results()  # plot results.txt as results.png
Image(filename=&apos;./results.png&apos;, width=1000)  # view results.png
</code></pre><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x663E;&#x793A;<code>YOLOv5s</code>&#x5728;<code>coco128</code>&#x4E0A;&#x8BAD;&#x7EC3;<code>100 epochs</code>&#xFF1A;</p>
<ul>
<li><code>&#x6A58;&#x9EC4;&#x8272;&#x66F2;&#x7EBF;</code>&#xFF1A;&#x662F;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;</li>
<li><code>&#x84DD;&#x8272;&#x66F2;&#x7EBF;</code>&#xFF1A;&#x4ECE;<code>&#x9884;&#x8BAD;&#x7EC3;</code>&#x7684;<code>yolov5s.pt&#x6743;&#x91CD;</code>&#x5F00;&#x59CB;&#x8BAD;&#x7EC3;&#xFF0C;</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/2020071016242254.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTAxMDE5OA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><a href="https://blog.csdn.net/qq_46098574/article/details/107334954" target="_blank">&#x53C2;&#x8003; 1</a><br><a href="https://zhuanlan.zhihu.com/p/156835045" target="_blank">&#x53C2;&#x8003; 2</a><br><a href="https://www.pythonf.cn/read/118993" target="_blank">&#x53C2;&#x8003; 3</a></p>
<p><img src="https://img-blog.csdnimg.cn/20200711164749772.gif" alt=""></p>
<p><img src="https://img-blog.csdnimg.cn/20191030134617587.png" alt=""></p>
<p><img src="https://img-blog.csdnimg.cn/20200711165721184.png" alt=""></p>
<p><img src="https://img-blog.csdnimg.cn/20191030113326918.gif" alt=""><br>&#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660; &#x2295; &#x2660;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="yolov5 启用数据增强与 tensorboard 可视化.html" class="navigation navigation-prev " aria-label="Previous page: yolov5 启用数据增强与 tensorboard 可视化">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Yolov5_DeepSort_Pytorch 训练自己的数据.html" class="navigation navigation-next " aria-label="Next page: Yolov5_DeepSort_Pytorch 训练自己的数据">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"YOLOv5 的详细使用教程，以及使用 yolov5 训练自己的数据集","level":"1.7.2.6","depth":3,"next":{"title":"Yolov5_DeepSort_Pytorch 训练自己的数据","level":"1.7.2.7","depth":3,"path":"5 - 实验笔记/Yolo+Deepsort/Yolov5_DeepSort_Pytorch 训练自己的数据.md","ref":"5 - 实验笔记/Yolo+Deepsort/Yolov5_DeepSort_Pytorch 训练自己的数据.md","articles":[]},"previous":{"title":"yolov5 启用数据增强与 tensorboard 可视化","level":"1.7.2.5","depth":3,"path":"5 - 实验笔记/Yolo+Deepsort/yolov5 启用数据增强与 tensorboard 可视化.md","ref":"5 - 实验笔记/Yolo+Deepsort/yolov5 启用数据增强与 tensorboard 可视化.md","articles":[]},"dir":"ltr"},"config":{"plugins":["expandable-chapters","github-buttons","copy-code-button","anchor-navigation-ex","-highlight","-lunr","-search","search-pro","splitter"],"ignores":["_book","node_modules"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"splitter":{},"search-pro":{},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"github-buttons":{},"copy-code-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Summary","gitbook":"*"},"file":{"path":"5 - 实验笔记/Yolo+Deepsort/YOLOv5 的详细使用教程，以及使用 yolov5 训练自己的数据集.md","mtime":"2021-08-03T09:22:20.858Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-08-03T09:23:02.254Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

